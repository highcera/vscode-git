â–   Visual Studio Code
   html:5

   html <tab>
   head + body <tab>
   h1+ol>li*3 <tab>
   lorem - ìƒ˜í”Œ í…ìŠ¤íŠ¸
   ì „ì²´ì„ íƒ <tab> or <shft><tab>
   ì£¼ì„í•œì¤„ <ctrl>/   ì£¼ì„ì—¬ëŸ¬ì¤„ <ctrl><shft>/
   ì°¾ê¸° <ctrl>F       ë°”ê¾¸ê¸° <ctrl>H
   
   <ctrl>P íŒŒì¼ë¡œ ì´ë™ ê²€ìƒ‰, ìµœê·¼ ì‚¬ìš© íŒŒì¼
   ë‹ë³´ê¸° í™”ì¼ ê²€ìƒ‰ ê°€ëŠ¥

   í™”ì¼>ê¸°ë³¸ì„¤ì •>ì„¤ì •> font size
   ê¸´ì¤„ ì—¬ëŸ¬ì¤„ë¡œ í‘œì‹œ word wrap off â†’ on

   * layout ë³€ê²½ í™”ì¼ëª… íƒ­ ë“œë˜ê·¸
   * ë³´ê¸°>ëª¨ì–‘>ê¸°ë³¸ì‚¬ì´ë“œë°”  <ctrl>B

ëª…ë ¹ì–´ (command) íŒ”ë ›íŠ¸
<ctrl><shft>p

*.html í™”ì¼ > ì˜¤ë¥¸ìª½ ë§ˆìš°ìŠ¤ í¬ë¦­ > open preview

ê¸°íƒ€
Terminal 
ë²„ì ¼ê´€ë¦¬ : git
https://seomal.com/map/1/138

â–  [ê³ ì¤€ì„œ] Flask X Firebase ë¸”ë¡œê·¸ ë§Œë“¤ê¸°
íŒŒì´ì¬ê³¼ íŒŒì´ì–´ë² ì´ìŠ¤ë¡œ ì»¤ë®¤ë‹ˆí‹° ì‚¬ì´íŠ¸ ë§Œë“¤ê¸°
https://www.youtube.com/playlist?list=PLqIc89sXpwUCjwzRImFjO2UL8lBopRajj


íŒŒì´ì–´ë² ì´ìŠ¤ ê°•ì˜ë¥¼ ì•ˆ ë“¤ì—ˆë‹¤ë©´?
https://youtu.be/cqxqsTd3X20

Flaskì˜ ê¸°ì´ˆê°€ ì—†ë‹¤ë©´?
https://youtu.be/hsfibrhGFiM


â–  [ê·€ì°®Lee] ì›¹ê°œë°œ í”ŒëŸ¬ìŠ¤ 2ì£¼ì°¨
https://velog.io/@gwichanlee/%EC%9B%B9%EA%B0%9C%EB%B0%9C-%ED%94%8C%EB%9F%AC%EC%8A%A4-2%EC%A3%BC%EC%B0%A8

â— í”Œë¼ìŠ¤í¬ë¡œ ë©€í‹°í˜ì´ì§€ ì‚¬ì´íŠ¸ ë§Œë“¤ê¸°
â— Jinja2
â— Owlbot API
â— urlì„ ì´ìš©í•˜ì—¬ ë°ì´í„° ë°›ê¸° / GET ìš”ì²­
â— CSS íŒŒì¼ ë¶„ë¦¬

â–¡ ì›¹ê°œë°œ í”ŒëŸ¬ìŠ¤ (1ì£¼ì°¨)
22.03.28(ì›”)

â— í”Œë¼ìŠ¤í¬ë¡œ ë©€í‹°í˜ì´ì§€ ì‚¬ì´íŠ¸ ë§Œë“¤ê¸°
from flask import Flask, render_template
import requests

@app.route('/')
def main():
    return render_template("index.html")
    
@app.route('/detail')
def detail():
    return render_template("detail.html")

app = Flask(__name__)

ì¼ë°˜ ì£¼ì†Œë¥¼ ì¹˜ë©´ 'index.html'ì´, ë’¤ì— /detailì„ ë¶™ì´ë©´ 'detail.html'ì´ ëœë”ë§ë¨.
Clientì—ì„œ window.location.href ë“±ì„ ì´ìš©í•˜ì—¬ í˜ì´ì§€ ì´ë™ ê°€ëŠ¥

â— Jinja2
Pycharmì—ì„œ Setting > Template Languages ì—ì„œ Jinja2ë¡œ ì„¤ì •ì‹œ ìš©ì´í•˜ê²Œ ì½”ë”©í•  ìˆ˜ ìˆìŒ.
html body ë¶€ë¶„ì—ì„œë„ ë°˜ë³µë¬¸, ì¡°ê±´ë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ.

app.py

from flask import Flask, render_template, request
import requests

app = Flask(__name__)

@app.route('/')
def detail(keyword):
    rows =[
      {
      "MSRDT": "202203282100",
      "MSRRGN_NM": "ë„ì‹¬ê¶Œ",
      "MSRSTE_NM": "ì¤‘êµ¬",
      "PM10": 35.0,
      "PM25": 15.0,
      "O3": 0.033,
      "NO2": 0.028,
      "CO": 0.4,
      "SO2": 0.007,
      "IDEX_NM": "ë³´í†µ",
      "IDEX_MVL": 53.0,
      "ARPLT_MAIN": "PM10"
      },
      {
      "MSRDT": "202203282100",
      "MSRRGN_NM": "ë„ì‹¬ê¶Œ",
      "MSRSTE_NM": "ì¢…ë¡œêµ¬",
      "PM10": 46.0,
      "PM25": 20.0,
      "O3": 0.032,
      "NO2": 0.027,
      "CO": 0.4,
      "SO2": 0.006,
      "IDEX_NM": "ë³´í†µ",
      "IDEX_MVL": 59.0,
      "ARPLT_MAIN": "PM10"
      }]
    return render_template("detail.html", rows=rows)

detail.html // forë¬¸ ifë¬¸ì„ python ì–¸ì–´ì™€ ìœ ì‚¬í•˜ê²Œ ì‚¬ìš©ê°€ëŠ¥
<body>
    <ul id="gu_list">
        {% for row in rows %}
            {% set gu_name = row['MSRSTE_NM'] %}
            {% set gu_mise = row['IDEX_MVL'] %}
            {% if gu_mise >= 60 %}
                <li>{{ rows[0]['MSRSTE_NM'] }} : {{ gu_mise|int }}</li>
            {% endif %}
        {% endfor %}
    </ul>
</body>

Jinja2 í•„í„°
// í‰ì†Œì— ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì›ì¹˜ ì•ŠëŠ” ë¬¸ìë¥¼ ê±°ë¥¼ë•Œ ì‚¬ìš©.
// ascii ì¸ì½”ë”© / ì•ˆë˜ëŠ” ë¬¸ì ë¬´ì‹œ / ë‹¤ì‹œ ë””ì½”ë”©
{{ definition.example.encode('ascii','ignore').decode('utf-8')|safe }}

//json í˜•íƒœë¡œ ì „í™˜ / ê¸°ë³¸ : htmlí˜•ì‹
var words = {{ words|tojson }}; 
â— Owlbot API
app.py
from flask import Flask, render_template, request, jsonify, redirect, url_for
import requests

@app.route('/detail/<keyword>')
def detail(keyword):
    status_receive = request.args.get('status_give')
    # APIì—ì„œ ë‹¨ì–´ ëœ» ì°¾ì•„ì„œ ê²°ê³¼ ë³´ë‚´ê¸°
    r = requests.get(f"https://owlbot.info/api/v4/dictionary/{keyword}", headers={"Authorization": "Token í† í°ê°’"})
    if r.status_code != 200:
        return redirect("/", msg="ë‹¨ì–´ê°€ ì´ìƒí•´ìš” ã… ã… ")
    result = r.json()
    return render_template("detail.html", word=keyword, result=result, status=status_receive)
print(result)
{'definitions': 
 [{'type': 'pronoun',
   'definition': 'used to refer to a man, boy, or male animal previously mentioned or easily identified.',
   'example': 'everyone liked my fatherÃ¢\x80\x94he was the perfect gentleman',
   'image_url': None,
   'emoji': None}],
'word': 'he',
'pronunciation': None}
â— urlì„ ì´ìš©í•˜ì—¬ ë°ì´í„° ë°›ê¸° / GET ìš”ì²­
# url : /detail?word_give=banana

@app.route('/detail/<keyword>')
def detail(keyword):
    word_receive = request.args.get("word_give")
    print(word_receive)  # banana
    return render_template("detail.html", word=word_receive)
# url : /detail/apple

@app.route('/detail/<keyword>')
def detail(keyword):
	print(keyword) # apple
    return render_template("detail.html")
â— CSS íŒŒì¼ ë¶„ë¦¬
<!-- project02/templates/index.htmlì—ì„œ -->
<!-- project02/static/mystyle.css ë¥¼ ê°€ì ¸ì˜´ -->

<!-- import CSS -->
<link href='{{ url_for("static", filename="mystyle.css") }}' rel="stylesheet">


â–  Flaskì—ì„œ Jinja2 í…œí”Œë¦¿ ì‚¬ìš©í•˜ê¸° feat. MUMA
https://velog.io/@isabel_noh/Flask%EC%97%90%EC%84%9C-Jinja2-%ED%85%9C%ED%94%8C%EB%A6%BF-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0-feat.-MUMA

ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ SSR
í•­í•´99 ì›¹ ë¯¸ë‹ˆ í”„ë¡œì íŠ¸

ì²« ì£¼ì—ëŠ” flaskì—ì„œ ajaxë¡œ ë°ì´í„°ë¥¼ ë°›ì•„ì™€ htmlì„ ì‘ì„±í•´ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í–ˆë‹¤.
ì´ë²ˆ ì£¼ì—ëŠ” ì¼ì¼ì´ ë‹¤ë¥¸ í˜ì´ì§€ë¥¼ htmlì—ì„œ ì‘ì„±í•´ ì£¼ëŠ” ê²ƒì´ ì•„ë‹ˆê³  jinja2 í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ì—¬ ì„œë²„ì—ì„œ templateì„ ë Œë”ë§í•˜ì—¬ ë°ì´í„°ë§Œ ë‹¤ë¥¸ ì¼ê´€ëœ êµ¬ì¡°ë¥¼ ê°€ì§„ í˜ì´ì§€ë¥¼ ë§Œë“¤ê³ ì í•œë‹¤.

Jinja2
Jinja2ëŠ” Flaskì—ì„œ ì œê³µí•˜ëŠ” ì›¹ í”„ë ˆì„ì›Œí¬ë¡œ, pythonìœ¼ë¡œ html ì½”ë“œë¥¼ ì œì–´í•  ìˆ˜ ìˆë‹¤. í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ë©´ ë°˜ë³µë¬¸, ì¡°ê±´ë¬¸, ë³€ìˆ˜ ë“±ì„ í™œìš©í•˜ì—¬ ë¹„êµì  ê°„ë‹¨í•œ í‘œí˜„ì„ í†µí•´ ë°ì´í„°ë¥¼ ê°€ê³µí•˜ì—¬ ì›¹í˜ì´ì§€ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

jinja2ëŠ” ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ ë³´ë‚´ì¤€ ë°ì´í„°ë¥¼ í™”ë©´ì— ë³´ì—¬ì¤„ ë•Œ ì‚¬ìš©í•˜ëŠ” íˆ´ì´ë‹¤. ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ ë°ì´í„°ë¥¼ ë³´ë‚´ì£¼ê¸°ìœ„í•´ì„œëŠ” í´ë¼ì´ì–¸íŠ¸ì—ì„œ ajaxë¥¼ í†µí•´ì„œ ì„œë²„ì— ë°ì´í„°ë¥¼ ë³´ë‚´ë‹¬ë¼ê³  ìš”ì²­ì„ í•´ì•¼ë§Œ ë°ì´í„° ì†¡ìˆ˜ì‹ ì´ ê°€ëŠ¥í•˜ë‹¤.

ê·¸ë˜ì„œ ajaxë¥¼ ì‚¬ìš©í•´ì„œ ì„œë²„ì— ìš”ì²­ì„ ë³´ë‚´ì§€ ì•Šìœ¼ë©´ ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ë¡œ ë°ì´í„°ë¥¼ ë³´ë‚¼ ìˆ˜ ì—†ë‹¤.

ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ SSR
ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ì´ë€ ì„œë²„ì—ì„œ í˜ì´ì§€ë¥¼ ê·¸ë ¤ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ ë³´ë‚´ í™”ë©´ì— í‘œì‹œí•˜ëŠ” ê¸°ë²•ì´ë‹¤. ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ì„ ì‚¬ìš©í•˜ë©´ ì–»ëŠ” ì¥ì ì€ í¬ê²Œ ê²€ìƒ‰ ì—”ì§„ ìµœì í™”ì™€ ë¹ ë¥¸ í˜ì´ì§€ ë Œë”ë§ì´ë‹¤. ê²€ìƒ‰ ì—”ì§„ ìµœì í™”ë€ êµ¬ê¸€, ë„¤ì´ë²„ì™€ ê°™ì€ ê²€ìƒ‰ ì—”ì§„ì—ì„œ ê²€ìƒ‰í–ˆì„ ë•Œ ê²°ê³¼ê°€ ì‚¬ìš©ìì—ê²Œ ë§ì´ ë…¸ì¶œë  ìˆ˜ ìˆë„ë¡ ìµœì í™”í•˜ëŠ” ê¸°ë²•ì´ë‹¤. íŠ¹íˆ, ë§í¬ë¥¼ ê³µìœ í–ˆì„ ë•Œ ì›¹ ì‚¬ì´íŠ¸ì˜ ì •ë³´ë¥¼ ì´ë¯¸ì§€ì™€ ì„¤ëª…ìœ¼ë¡œ í‘œì‹œí•´ì£¼ëŠ” OG(Open Graph) Tagë¥¼ í˜ì´ì§€ ë³„ë¡œ ë‹¤ë¥´ê²Œ ì ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ì´ íš¨ìœ¨ì ì´ë‹¤.

Flaskì—ì„œ í…œí”Œë¦¿ì„ ë Œë”ë§í•˜ì—¬ URLì— ì—°ê²°í•˜ê¸°
from flask import Flask, render_template, request, jsonify, redirect, url_for

app = Flask(__name__)

@app.route('/')
def main():

    return render_template("index.html")  # ë°ì´í„°ë¥¼ ê°™ì´ ë³´ë‚¼ ê²ƒì´ ìˆìœ¼ë©´ ',' ë¡œ ì—°ê²°í•˜ì—¬ ë³´ë‚´ì£¼ë©´ ëœë‹¤
templateë¼ëŠ” í´ë” ì•ˆì˜ index.htmlì„ ë Œë”ë§í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ë¡œ ë³´ë‚´ì¤€ë‹¤.(ê¼­ htmlíŒŒì¼ì€ templatesë¼ëŠ” í´ë”ì—, ì´ë¯¸ì§€ì™€ cssíŒŒì¼ì€ static í´ë”ì— ë„£ì–´ì¤˜ì•¼ í•œë‹¤.)

APIì˜ ì •ë³´ë¥¼ ë Œë”ë§ í•´ì£¼ê¸°
@app.route('/') 
def main():
  r = requests.get('http://openapi.seoul.go.kr:8088/6d4d776b466c656533356a4b4b5872/json/RealtimeCityAir/1/99') 
  response = r.json()
  rows = response['RealtimeCityAir']['row']

  return render_template("index.html", rows=rows)
í•´ë‹¹ API ì£¼ì†Œì— ìˆëŠ” ë°ì´í„°ë¥¼ requestsë¡œ getí•´ì˜¨ í›„, json í˜•ì‹ìœ¼ë¡œ ë³€í˜•í•´ì¤€ë‹¤. ì´ ê°’ì„ ë³€ìˆ˜ì— ë‹´ì•„ ë Œë”ë§í•  ë•Œ ê°™ì´ ë³´ë‚´ì¤€ë‹¤.

DBì— ìˆëŠ” ì •ë³´ë¥¼ ë Œë”ë§ í•´ì£¼ê¸°
@app.route('/')
def main():
    museums = list(db.muse_info.find({},{"_id":False})) # {"_id":False} idê°’ì€ ê°€ì ¸ì˜¤ì§€ ì•Šê²Œ í•¨
    return render_template("index.html", museums=museums)
    
DBì— listí˜•ì‹ìœ¼ë¡œ ìˆëŠ” ë°ì´í„°ë“¤ì„ ëª¨ë‘ ë¶ˆëŸ¬ì™€ì„œ wordsë¼ëŠ” ë³€ìˆ˜ì— ë‹´ì•„ì£¼ê³  ì´ë¥¼ ë Œë”ë§ í•  ë•Œì— ê°™ì´ ë³´ë‚´ì¤€ë‹¤.

Jinja2ì˜ ë¬¸ë²• ê¸°ë³¸
ë³€ìˆ˜ëª…

{{ ë³€ìˆ˜ëª… }}  or   {{ ë³€ìˆ˜ëª… |í•„í„° }}
ë³€ìˆ˜ë¥¼ ë‹´ì„ ë•ŒëŠ” {{ }}ì¤‘ê´„í˜¸ ë‘ê°œë¥¼ í¬ê°œì–´ ì‚¬ìš©í•œë‹¤.

<p><span class="info_head">í™ˆí˜ì´ì§€</span> : <a href="{{ museum.url }}">{{ museum.url }}</a></p>
<p><span class="info_head">ì „í™”ë²ˆí˜¸</span> : {{ museum.phone }}</p>
<p><span class="info_head">ì˜ì—…ì‹œê°„</span> : {{ museum.open }} ~ {{ museum.close }}</p>
<p><span class="info_head">íœ´ë¬´ì •ë³´</span> : {{ museum.rest_info }}</p>
<p><span class="info_head">ì£¼ ì†Œ</span> : {{ museum.addr }}</p>
<p><a href="javascript:void(0);" id="show_map" class="show_map" onclick="hey_map()">ğŸ‘‰ ì§€ë„ë¡œ ë³´ê¸°</a></p>
<p class="db-intro">{{ museum.introduce }}</p>
ì œì–´ë¬¸ (ifë¬¸, forë¬¸ ë“±)

{% if ~~ %} ì‹¤í–‰ë¬¸ {% endif %}
{% for ~ %} ì‹¤í–‰ë¬¸ {% endfor %}
ex) jinja2 í…œí”Œë¦¿ìœ¼ë¡œ ifë¬¸ ì‚¬ìš©í•˜ê¸°

{% if museum.img_src == none %}
     <img src="/static/museum-art.png" alt="aba"/>
{% else %}
     <img src="/static/{{ museum.img_src }}" alt="aba"/>
{% endif %}
ì£¼ì„ ë‹¬ê¸°

{# ì£¼ì„ì„ ì‘ì„±í•´ì£¼ì„¸ìš” #}
í•˜ì§€ë§Œ ì„œë²„ì‚¬ì´ë“œ ë Œë”ë§ì—ë„ ë‹¨ì ì€ ìˆë‹¤.

í”„ë¡œì íŠ¸ì˜ ë³µì¡ë„
ì„±ëŠ¥ ì•…í™” ê°€ëŠ¥ì„± ìˆìŒ
ì´ëŸ¬í•œ ì´ìœ ë¡œ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë Œë”ë§ì´ ë” ë‚˜ì€ì§€, ë‹¤ë¥¸ ë°©ë²•ì€ ì—†ëŠ”ì§€ í”„ë¡œì íŠ¸ë§ˆë‹¤ ê³ ë¯¼í•´ë³´ê³  ì‚¬ìš©ì„ í•´ì•¼í•  ê²ƒ ê°™ë‹¤.

reference


https://developer-max.tistory.com/37

âœ” 05ì£¼ì°¨. ì›¹ ë°±ì—”ë“œ
<ìˆ˜ê°•ëª©í‘œ>
-. íŒŒì´ì¬ ì›¹ í”„ë ˆì„ì›Œí¬ë¥¼ í™œìš©í•´ ì›¹ ë°±ì—”ë“œë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.
-. ì›¹ ì„œë²„ì™€ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì—°ë™í•´ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤. 
-. REST API ì„œë²„ë¥¼ êµ¬í˜„í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°„ì˜ API ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.

[01 Flaskì˜ ì„¸ê³„ë¡œ]
1. í”Œë¼ìŠ¤í¬ëŠ” ê°„ê²°í•˜ë‹¤.
Â  - Micro Web Framework : í”„ë ˆì„ì›Œí¬ë¥¼ ê°„ê²°í•˜ê²Œ ìœ ì§€í•˜ê³  í™•ì¥í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì—ˆë‹¤ëŠ” ëœ»Â  Â  
    â†’ Micro : ê°€ë²¼ìš´ ê¸°ëŠ¥ ì œê³µ, ê°€ë³ê²Œ ë°°ìš°ê³  ê°€ë³ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©° í™•ì¥ì„±ì´ ë„“ë‹¤.
Â  Â  â†’ Framework : ì´ë¯¸ ì‘ì„±ëœ ì½”ë“œì˜ ëª¨ì„ì¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê·¸ ì´ìƒì˜ ì˜ë¯¸, ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•˜ê¸° ìœ„í•œ ì¼ì •í•œ í‹€ì„ ì œê³µí•´ì£¼ëŠ” ê¸°ìˆ 
Â  - Flask : ê°„ë‹¨í•œ ì›¹ ì‚¬ì´íŠ¸, ê°„ë‹¨í•œ API ì„œë²„ë¥¼ ë§Œë“œëŠ” ë°ì— íŠ¹í™” ë˜ì–´ìˆëŠ” Python Web Framework.Â  
  - í”Œë¼ìŠ¤í¬ì˜ ì¥ì  :Â ê°€ë³ê²Œ ë°°ìš°ê³ , ì‚¬ìš©í•˜ê³  ë°°í¬í•  ìˆ˜ ìˆë‹¤Â  
  - í”Œë¼ìŠ¤í¬ì˜ ë‹¨ì  : Djangoì— ë¹„í•´ì„œ ììœ ë„ê°€ ë†’ìœ¼ë‚˜, ì œê³µí•´ ì£¼ëŠ” ê¸°ëŠ¥ì´ ëœí•˜ë‹¤. ë³µì¡í•œÂ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„Â ë§Œë“¤ë ¤ê³ Â í• Â ë•ŒÂ í•´ì•¼Â í• Â ê²ƒë“¤ì´Â ë§ë‹¤.Â  
  - FlaskëŠ” ì†Œê·œëª¨ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë¹ ë¥´ê²Œ ë§Œë“¤ ìˆ˜ ìˆê³ , ë°°í¬ í™˜ê²½ì— ë”°ë¼ ëŒ€ê·œëª¨ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ê¸°ëŠ¥ í™•ì¥ì˜ ì—­í• ì„ í•˜ê¸° ì‰¬ìš´ ì¥ì ì´ ìˆê³ , 
    DjangoëŠ” ëŒ€ê·œëª¨ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë¹ ë¥´ê²Œ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë©°, ê¸°ë³¸ìœ¼ë¡œ ì œê³µ í•´ ì£¼ëŠ” ê¸°ëŠ¥ì´ ë§ë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤.

                          Flask                               Django
             ORMÂ ê¸°ëŠ¥ì´Â ì œê³µë˜ì§€Â ì•ŠìŒ       ORM ê¸°ëŠ¥ì´ ë‚´ì¥
             ì§§ì€Â ì½”ë“œë¡œÂ ì›¹Â ì„œë²„Â êµ¬ë™         ìë™ìœ¼ë¡œ ê´€ë¦¬ì í™”ë©´ êµ¬ì„±

2. SimpleÂ WebÂ ServerÂ ë„ìš°ê¸°
   # flask íŒ¨í‚¤ì§€ì—ì„œ FLASKë¥¼ ì„í¬íŠ¸
   from flask import Flask

   # FLASK ê°ì²´ appì„ ì„ ì–¸
   app = Flask(__name__)

   # route()ë¥¼ ì‚¬ìš©í•´ ì›¹í˜ì´ì§€ì™€ í•´ë‹¹ í˜ì´ì§€ì—ì„œ ì‘ë™í•  í•¨ìˆ˜ë¥¼ ë§¤ì¹­
   @app.route('/')
   # '/'ì— ë§¤ì¹­ë˜ëŠ” í•¨ìˆ˜ hello_elice()ë¥¼ ë§Œë“¤ê³  route() ë°‘ì— ì‘ì„±
   def hello_elice():
        return "Hello Elice!"

   # ëª¨ë“ˆëª…ì´ mainì¼ ë•Œë§Œ ì‹¤í–‰í•˜ë„ë¡ ì¡°ê±´ë¬¸ì„ ì¶”ê°€
   if __name__ == '__main__':
       app.run()

3. HTTPë€Â  Â 
   - WWW(World Wide Web) ì˜ ê¸°ë³¸ì ì¸ í‹€ : ì›¹ ë¸Œë¼ìš°ì €ì— ìˆëŠ” ì •ë³´ì— ì ‘ê·¼í•  ë•ŒëŠ” URLì„ í†µí•´ ì ‘ê·¼. ë°˜ëŒ€ë¡œ URLì„ ëª¨ë¥´ëŠ” ì •ë³´ì—ëŠ” ì ‘ê·¼XÂ  
   - HTTP : Hypertext Transfer Protocal
Â  Â   - Hypertext: ì»´í“¨í„° í™”ë©´ì´ë‚˜ ì „ì ê¸°ê¸°ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” ë°ì´í„°ì´ë©°, ë‹¤ë¥¸ ë°ì´í„°ì™€ ì—°ê²°ë  ìˆ˜ ìˆëŠ” ì£¼ì†Œë¥¼ ì°¸ì¡°Â  Â  
     - Transfer: ì‚¬ëŒë“¤ì´ ë¸Œë¼ìš°ì €ë¥¼ í†µí•´ í™•ì¸í•˜ëŠ” ì›¹ ìƒì˜ ë°ì´í„°ëŠ” HTTPì— ì˜í•´ ì „ë‹¬Â  Â  
     - Protocal: ê·œì¹™ í˜¹ì€ ê·œì•½
Â  - HTTP MethodsÂ  Â  
    â‘  GET : ì•”í˜¸í™”ë˜ì§€ ì•Šì€ í˜•íƒœì˜ ë°ì´í„°ë¥¼ ì„œë²„ë¡œ ì „ì†¡í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” ê°€ì¥ ì¼ë°˜ì ì¸ ë°©ë²•
Â  Â  â‘¡ HEAD : GETê³¼ ìœ ì‚¬í•œ ë°©ë²•ìœ¼ë¡œ Response Bodyë¥¼ í¬í•¨í•˜ì§€ ì•Šê³  ì‚¬ìš©
Â  Â Â â‘¢ POST : íŠ¹ì • ì–‘ì‹ì˜ ë°ì´í„°ë¥¼ ì•”í˜¸í™”í•˜ì—¬ ì„œë²„ë¡œ ì „ì†¡í•˜ëŠ”ë° ì‚¬ìš©
Â  Â Â â‘£ PUT : íŠ¹ì • ëŒ€ìƒì˜ ë°ì´í„°ë¥¼ ê°±ì‹ (Update)í•˜ëŠ”ë° ì‚¬ìš©
Â  Â Â â‘¤ DELETE : URLì— ì§€ì •ëœ ëŒ€ìƒì„ ì‚­ì œ(DELETE)í•˜ëŠ” ë° ì‚¬ìš©
Â  - HTTP status code : íŠ¹ì • HTTP ìš”ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆëŠ”ì§€ ì•Œë ¤ì£¼ëŠ” ì½”ë“œ
Â  Â  â‘  ì‘ë‹µ : 100
Â  Â Â â‘¡ ì„±ê³µì ì¸ ì‘ë‹µ : 200
Â  Â Â â‘¢ ë¦¬ë‹¤ì´ë ‰íŠ¸ : 300
Â  Â Â â‘£ í´ë¼ì´ì–¸íŠ¸ ì—ëŸ¬ : 400
Â  Â Â â‘¤ ì„œë²„ ì—ëŸ¬ : 500Â 
Â 
4. URL RoutingÂ  
  - URL Routing : ì„œë²„ì—ì„œ íŠ¹ì • URLì— ì ‘ì†í–ˆì„ ì‹œ ë³´ì—¬ì¤„ í˜ì´ì§€ë¥¼ ì •í•´ì£¼ëŠ” ê²ƒ. ì¦‰, íŠ¹ì • URLì„ ì¼ë¶€ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ê´€ë ¨ëœ ê¸°ëŠ¥ê³¼ Mappingí•˜ëŠ” ë° ì‚¬ìš©Â  
  - Flaskì—ì„œ URL Routing : @app.route('') ì‚¬ìš© (decorator(ë°ì½”ë ˆì´í„°) : @ë¥¼ í†µí•´ ì„ ì–¸í•˜ëŠ” ë°©ì‹)Â  
  - URL Mapping : ì›¹ì‚¬ì´íŠ¸ ì£¼ì†Œë¥¼ ê°„ëµí•˜ê²Œ ì¹˜í™˜í•˜ëŠ” ê³¼ì •. ë³´ì•ˆì„±ì´ í–¥ìƒ (URL ì£¼ì†Œë¥¼ ê°€ë¦¼) ê³¼ í¸ì˜ì„±ì´ í–¥ìƒ (ì£¼ì†Œë¥¼ ê°„ê²°í•˜ê²Œ í•¨)
Â 
5. RESTë€?Â  
  - REST : Representational State Transfer. ìì›ì„ ì´ë¦„(ìì›ì˜ í‘œí˜„)ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ í•´ë‹¹ ìì›ì˜ ìƒíƒœë¥¼ ì£¼ê³  ë°›ëŠ” ëª¨ë“  ê²ƒ. ì¦‰, ìì›(resource)ì˜ í‘œí˜„(representation)ì— ì˜í•œ ìƒíƒœ ì „ë‹¬.
             ê¸°ë³¸ì ìœ¼ë¡œ ì›¹ì˜ ê¸°ì¡´ ê¸°ìˆ ê³¼ HTTP í”„ë¡œí† ì½œì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì›¹ì˜ ì¥ì ì„ ìµœëŒ€í•œ í™œìš©í•  ìˆ˜ ìˆëŠ” ì•„í‚¤í…ì²˜ ìŠ¤íƒ€ì¼ì´ë©°, ë„¤íŠ¸ì›Œí¬ ìƒì—ì„œ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ì‚¬ì´ì˜ í†µì‹  ë°©ì‹ ì¤‘ í•˜ë‚˜Â  
  - ìì›ì˜ í‘œí˜„Â  Â  
    â†’ ìì›: í•´ë‹¹ ì†Œí”„íŠ¸ì›¨ì–´ê°€ ê´€ë¦¬í•˜ëŠ” ëª¨ë“  ê²ƒ (ex. ê·¸ë¦¼, ë¬¸ì„œ, ë°ì´í„° ë“±)Â  Â Â 
    â†’Â ìì›ì˜Â í‘œí˜„:Â ê·¸Â ìì›ì„Â í‘œí˜„í•˜ê¸°Â ìœ„í•œÂ ì´ë¦„Â  
  - ìƒíƒœ(ì •ë³´) ì „ë‹¬Â  Â Â 
    â†’ ë°ì´í„°ê°€ ìš”ì²­ë˜ëŠ” ì‹œì ì—ì„œ ìì›ì˜ ìƒíƒœ(ì •ë³´)ë¥¼ ì „ë‹¬Â  Â Â 
    â†’ JSON í˜¹ì€ XMLì„ í†µí•´ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ëŠ” ê²ƒì´ ë³´í†µì˜ ì „ë‹¬ ë°©ì‹Â  
  - RESTì˜ êµ¬ì²´ì ì¸ ê°œë… : HTTP URI(Uniform Resource Identifier)ì„ í†µí•´ ìì›ì„ ëª…ì‹œí•˜ê³ , HTTP Method(POST, GET, PUT, DELETE)ë¥¼ í†µí•´ í•´ë‹¹ ìì›ì— ëŒ€í•œ CRUD Operationì„ ì ìš©í•˜ëŠ” ê²ƒÂ  
  - CRUD : Create ìƒì„±(POST), Read ì¡°íšŒ(GET), Update ìˆ˜ì •(PUT), Delete ì‚­ì œ(DELETE), HEAD header ì •ë³´ ì¡°íšŒ(HEAD)Â  
  - RESTì˜ ì¥ë‹¨ì Â  Â  
    â˜ ì¥ì Â  Â  Â 
       - ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ì˜ ì—­í• ì„ ëª…í™•í•˜ê²Œ ë¶„ë¦¬Â  Â  Â  
       -Â ì—¬ëŸ¬ê°€ì§€ ì„œë¹„ìŠ¤ ë””ìì¸ì—ì„œ ìƒê¸¸ ìˆ˜ ìˆëŠ” ë¬¸ì œë¥¼ ìµœì†Œí™”Â  Â  Â  
       -Â REST API ë©”ì‹œì§€ê°€ ì˜ë„í•˜ëŠ” ë°”ë¥¼ ëª…í™•í•˜ê²Œ ë‚˜íƒ€ë‚´ë¯€ë¡œ ì˜ë„í•˜ëŠ” ë°”ë¥¼ ì‰½ê²Œ íŒŒì•…Â  Â  Â  
       -Â HTTP í‘œì¤€ í”„ë¡œí† ì½œì— ë”°ë¥´ëŠ” ëª¨ë“  í”Œë«í¼ì—ì„œ ì‚¬ìš©ê°€ëŠ¥Â  Â  Â  
       -Â HTTP í‘œì¤€ í”„ë¡œí† ì½œì˜ í‘œì¤€ì„ ìµœëŒ€í•œ í™œìš©í•˜ì—¬ ì—¬ëŸ¬ ì¶”ê°€ì ì¸ ì¥ì ì„ í•¨ê»˜ ê°€ì ¸ê°ˆ ìˆ˜ ìˆê²Œ í•¨Â  Â Â 
    â˜Â ë‹¨ì Â  Â  Â  
       - ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë©”ì†Œë“œê°€ 4ê°€ì§€ë¿ì„Â  Â  Â  
       -Â í‘œì¤€ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŒ

Â  - RESTê°€ í•„ìš”í•œ ì´ìœ  : ë‹¤ì–‘í•œ í´ë¼ì´ì–¸íŠ¸ì˜ ë“±ì¥, ì• í”Œë¦¬ì¼€ì´ì…˜Â ë¶„ë¦¬Â ë°Â í†µí•©Â  
  - REST êµ¬ì„± ìš”ì†Œ
Â  Â  â‘  ìì›(Resource): URI. ì„œë²„ ìì›ì˜ ì´ë¦„ì€ í†µí•© ìì› ì‹ë³„ì ë˜ëŠ” URIì´ë¼ê³ í•¨
Â  Â  â‘¡ í–‰ìœ„(Verb): HTTP Method. HTTP í”„ë¡œí† ì½œì€ GET, POST, PUT, DELETEì™€ ê°™ì€ ë©”ì„œë“œë¥¼ ì œê³µ
Â  Â Â â‘¢ í‘œí˜„(Representation of Resource) :Â í´ë¼ì´ì–¸íŠ¸ê°€Â ìì›ì˜Â ìƒíƒœ(ì •ë³´)ì—Â ëŒ€í•´Â ìš”ì²­í•˜ë©´Â ì„œë²„ëŠ”Â ì´ì—Â ì ì ˆí•œÂ ì‘ë‹µì„Â ë³´ëƒ„ RESTì˜Â í•˜ë‚˜ì˜Â ìì›ì€Â JSON,Â XML,Â TEXT,Â RSSÂ ë“±Â 
        ì—¬ëŸ¬Â í˜•íƒœì˜Â ì‘ë‹µìœ¼ë¡œÂ ë‚˜íƒ€ë‚¼Â ìˆ˜Â ìˆìœ¼ë‚˜, ë³´í†µÂ JSONì´ë‚˜Â XMLì„Â í†µí•´Â ë°ì´í„°ë¥¼Â ì£¼ê³ Â ë°›ëŠ”Â ê²ƒì´Â ì¼ë°˜ì 
    â†’ RESTì˜ 3ìš”ì†Œ : method, resource, message

6. POST, GETÂ  
  - POST : ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì‚¬ìš©ì(í´ë¼ì´ì–¸íŠ¸)ë¡œë¶€í„° íŠ¹ì • ì–‘ì‹(form)ì˜ ë°ì´í„°ë¥¼ ì•”í˜¸í™”í•˜ì—¬ ì„œë²„ë¡œ ì „ì†¡í•˜ëŠ” ë°©ë²•. ì„œë²„ëŠ” POST ë°©ì‹ìœ¼ë¡œ ì „ë‹¬ ë°›ì€ ë°ì´í„°ë¥¼ í†µí•´ íŠ¹ì • ë™ì‘ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŒ
Â  - GET : ì‚¬ìš©ì(í´ë¼ì´ì–¸íŠ¸)ë¡œë¶€í„° íŠ¹ì • ì–‘ì‹(form)ì˜ ë°ì´í„°ë¥¼ ì„œë²„ë¡œ ì „ì†¡í•˜ëŠ” ë°©ë²•. POSTì™€ ê°€ì¥Â í°Â ì°¨ì´ëŠ”Â ì •ë³´ë¥¼Â URLì—Â ë¶™ì—¬ì„œÂ ë³´ë‚´ê²ŒÂ ë˜ê³ ,Â ì•”í˜¸í™”ë˜ì§€Â ì•ŠëŠ”ë‹¤ëŠ”Â ì 
  â˜ë¡œê·¸ì¸ê³¼Â ê°™ì´Â ì •ë³´ë¥¼Â ê°€ë ¤ì•¼í• Â ë•ŒëŠ”Â POSTÂ ë°©ì‹ì„Â ì‚¬ìš©í•˜ê³ Â ê·¸ë ‡ì§€Â ì•Šì„Â ë•ŒëŠ”Â GETÂ ë°©ì‹ì„Â ì‚¬ìš©
Â 
7. APIì™€ End pointÂ  
  - API : í”„ë¡œê·¸ë¨ë“¤ì´ ì„œë¡œ ìƒí˜¸ì‘ìš©í•˜ëŠ” ê²ƒì„ ë„ì™€ì£¼ëŠ” ë§¤ì²´. ì˜ˆë¥¼ë“¤ì–´ ì ì›ì€ ì†ë‹˜ì—ê²Œ ë©”ë‰´ë¥¼ ì•Œë ¤ì£¼ê³ , ì£¼ë°©ì— ì£¼ë¬¸ë°›ì€ ìš”ë¦¬ë¥¼ ìš”ì²­ â†’ ì£¼ë°©ì—ì„œ ì™„ì„±ëœ ìš”ë¦¬ë¥¼ ì†ë‹˜ì—ê²Œ ë‹¤ì‹œ ì „ë‹¬í•œë‹¤ë©° 
           ì†ë‹˜ê³¼ ìš”ë¦¬ì‚¬ëŠ” End Pointì— í•´ë‹¹í•˜ê³ , APIëŠ” ì ì›ê³¼ ê°™ì€ ì—­í• ì„ í•¨
Â  - APIì˜ ì—­í• 
Â  Â  â‘  ì„œë²„ì™€ ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ì¶œì…êµ¬ ì—­í•  : ì„œë²„ì™€Â ë°ì´í„°ë² ì´ìŠ¤ì—Â ëŒ€í•œÂ ì¶œì…êµ¬Â ì—­í• ì„Â í•˜ë©°,Â í—ˆìš©ëœÂ ì‚¬ëŒë“¤ì—ê²Œë§ŒÂ ì ‘ê·¼ì„±ì„Â ë¶€ì—¬
Â  Â  â‘¡ í”„ë¡œê·¸ë¨ê³¼ ê¸°ê¸°ê°€ ì›í™œí•˜ê²Œ í†µì‹ í•  ìˆ˜ ìˆë„ë¡ í•¨ : ìŠ¤ë§ˆíŠ¸í°Â ì–´í”Œì´ë‚˜Â í”„ë¡œê·¸ë¨ê³¼Â ê¸°ê¸°ê°€Â ë°ì´í„°ë¥¼Â ì›í™œíˆÂ ì£¼ê³ Â ë°›ì„Â ìˆ˜Â ìˆë„ë¡Â ë•ëŠ”Â ì—­í• 
Â  Â Â â‘¢ ëª¨ë“  ì ‘ì†ì„ í‘œì¤€í™” : ëª¨ë“  ì ‘ì†ì„ í‘œì¤€í™”í•˜ê¸° ë•Œë¬¸ì— ê¸°ê¸°ë‚˜ ìš´ì˜ì²´ì œ ë“±ê³¼ ìƒê´€ì—†ì´ ëˆ„êµ¬ë‚˜ ë™ì¼í•œ ê¶Œí•œì„ ì–»ì„ ìˆ˜ ìˆìŒ
Â  - API Testing : APIë¥¼ í…ŒìŠ¤íŠ¸í•˜ì—¬ ê¸°ëŠ¥, ì„±ëŠ¥, ì‹ ë¢°ì„±, ë³´ì•ˆ ì¸¡ë©´ì—ì„œ ê¸°ëŒ€ë¥¼ ì¶©ì¡±í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” í…ŒìŠ¤íŒ…ì˜ í•œ ìœ í˜•



[02 Flask ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë§Œë“¤ê¸°]
1. ë Œë”ë§Â í…œí”Œë¦¿
Â  - ë Œë”ë§ í…œí”Œë¦¿ : í”Œë¼ìŠ¤í¬ ë‚´ì—ì„œ html íŒŒì¼ì„ ì‚¬ìš©í•´ ì›¹ ì‚¬ì´íŠ¸ë¥¼ ì œì‘í•  ë•Œ ì‚¬ìš©. (html ì½”ë“œë“¤ì„ í”Œë¼ìŠ¤í¬ë‚´ì— ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ íŒŒì¼ì„ ë”°ë¡œ ë§Œë“¤ì–´ ë¼ìš°íŒ…í•˜ëŠ” ë°©ë²•ì´ ìœ ì§€ë³´ìˆ˜ì—ì„œ ì´ì ì„ ê°€ì ¸ê°ˆ ìˆ˜ ìˆìŒ). 
    í”Œë¼ìŠ¤í¬ëŠ” render_template()ì„ ì´ìš©í•´ html íŒŒì¼ì„ ë Œë”ë§í•˜ì—¬ ë¸Œë¼ìš°ì €ì— ë³´ì—¬ì¤Œ
    â€» FlaskëŠ”Â templatesí´ë”ì—ì„œÂ í…œí”Œë¦¿ì„Â ì°¾ê¸°Â ë•Œë¬¸ì—Â ì¶œë ¥í• Â í…œí”Œë¦¿ì€Â í•­ìƒÂ templatesí´ë”Â ì•ˆì—Â ì¡´ì¬

from flask import render_template

@app.route('/hello/')
@app.route('/hello/<name>')
def hello(name=None):
    return render_template('hello.html', name=name)

Â  - Jinja2 : ë Œë”ë§ í…œí”Œë¦¿ì„ í†µí•´ í™”ë©´ì„ ì¶œë ¥í•  ë•Œ htmlì—ì„œëŠ” Jinja2 ë¬¸ë²•ìœ¼ë¡œ í•´ë‹¹ ë‚´ìš©ì„ ë„ìš¸ ìˆ˜ ìˆìŒ (thymeleaf ê°™ì€ ê±´ê°€..?)
Â  - ë¸”ë£¨ í”„ë¦°íŠ¸ : ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë“±ë¡ í•  ë•Œ ì‹¤í–‰í•  ì‘ì—…ì„ ê¸°ë¡í•´ë‘ê³  ì‚¬ìš©í•˜ëŠ” ì²­ì‚¬ì§„. Flaskì˜ ìš”ì²­ìœ¼ë¡œ URLì„ ìƒì„± í•  ë•Œ í™”ë©´ì„ ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë¸”ë£¨ í”„ë¦°íŠ¸ì™€ ì—°ê²°. 
                      ë¸”ë£¨ í”„ë¦°íŠ¸ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê°œì²´ë¥¼ ë¯¸ë¦¬ ìš”êµ¬í•˜ì§€ ì•Šê³  ê¸°ëŠ¥ì„ ì •ì˜í•  ìˆ˜ ìˆìœ¼ë©°, íŒŒì¼ì„ ì—¬ëŸ¬ê°œë¡œ ë‚˜ëˆ„ì–´ ìœ ì§€ ë³´ìˆ˜ ì¸¡ë©´ì—ì„œ ë§¤ìš° íš¨ê³¼ì ìœ¼ë¡œ ê°œë°œí•  ìˆ˜ ìˆê²Œë” í•¨.
                      ì—¬ëŸ¬ ê¸°ëŠ¥ì´ í¬í•¨ëœ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì œì‘í•˜ê³ ì í•œë‹¤ë©´ ë¸”ë£¨í”„ë¦°íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥
Â 
2. ê²Œì‹œê¸€Â ìƒì„±Â ë°Â ì½ê¸°
<!-- Board.html -->
<!doctype html>
<html lang="ko">
    <head>
        <title>ê²Œì‹œíŒ ë“±ë¡</title>
        <style type="text/css">
            body{ text-align: center; }
        </style>
     </head>
    <body>
        <h1>ê²Œì‹œíŒ</h1>
        <h4>ì¶”ê°€</h4>
        <form action = "/add" method = "POST">
            ì´ë¦„<br>
            <input type = "text" name = "name" /><br>
            ë‚´ìš©<br>    
            <textarea name = "context" cols="50" rows="10"></textarea><br><br>
            <input type = "submit" value = "ê²Œ ì‹œ" /><br>
        </form>
        <h4>ëª©ë¡ë³´ê¸°</h4>
        <table class="table" border="1" width = 600 style = "word-break:break-all" style="table-layout: fixed" align="center">
        <thread>
            <th width="4%">ëª©ì°¨</th>
            <th width="15%">ì´ë¦„</th>
            <th width="25%">ë‚´ìš©</th>
        </thread>
        {% for row in rows %}
        <tr>
            <td>{{ loop.index }}</td>
            <td>{{ row[0] }}</td>
            <td>{{ row[1] }}</td>
        </tr>
        {% endfor %}
        </table>
    </body>
</html>

# main.py
from flask import Flask, render_template, request, redirect, url_for
app = Flask(__name__)

board = []
@app.route('/')
def index():
    # ë¦¬ìŠ¤íŠ¸(board)ë¥¼ html íŒŒì¼ë¡œ ë„˜ê¸°ê¸°
    return render_template('Board.html', rows = board)

@app.route('/add', methods = ['POST'])
def add():
    if request.method == 'POST':
        # Board.html ì—ì„œ ì…ë ¥ë°›ì€ name, context ë¥¼ ê°€ì ¸ì™€ì„œ board ë³€ìˆ˜ì— ì¶”ê°€
        name = request.form['name']
        context = request.form['context']
        board.append([name, context])
        return redirect(url_for('index'))
    else:
        return render_template('Board.html', rows = board)

if __name__ == '__main__':
    app.run(debug=True)

3. UPDATEÂ &Â DELETEÂ êµ¬í˜„
<!-- list.html -->
<!doctype html>
<html lang="ko">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlusÂ®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>SQLite3 ê²Œì‹œíŒ ë“±ë¡</title>

  <style type="text/css">
	body{ text-align: center; }
  </style>
 </head>
 <body>
	<h3>ê²Œì‹œíŒ</h3>
	<h4>ì¶”ê°€</h4>
	<form action = "/add" method = "POST">
		ì´ë¦„<br>
		<input type = "text" name = "name" /><br>
		ë‚´ìš©<br>
		<input type = "text" name = "context" style="text-align:center; width:400px; height:100px;"/><br><br>
		<input type = "submit" value = "ê²Œ ì‹œ" /><br>
	</form>
	<h4>ëª©ë¡ë³´ê¸°</h4>
	<table border=1 width="600" align="center">
		<thead>
        <td>ëª©ì°¨</td>
		<td>ì´ë¦„</td>
		<td>ë‚´ìš©</td>
        <td>ìˆ˜ì •, ì‚­ì œ</td>
		</thead>
	{% for row in rows %}
		<tr>
            <td>{{ loop.index }}</td>
			<td>{{ row[0] }}</td>
			<td>{{ row[1] }}</td>
            <td><a href ="{{url_for('update', uid = loop.index)}}">ìˆ˜ì •</a> <a href ="{{url_for('delete', uid = loop.index)}}">ì‚­ì œ</a></td>
		</tr>
	{% endfor %}
	</table>
 </body>
</html>

<!-- update -->
<!doctype html>
<html lang="ko">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlusÂ®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>SQLite3 ê²Œì‹œíŒ ë“±ë¡</title>

  <style type="text/css">
	body{ text-align: center; }
  </style>
 </head>
 <body>
	<h3>ê²Œì‹œíŒ</h3>
	<h4>ìˆ˜ì •</h4>
    <form action = "/update/{{index}}" method = "POST">
		ì´ë¦„<br>
		<input type = "text" name = "name" /><br>
		ë‚´ìš©<br>
		<input type = "text" name = "context" style="text-align:center; width:400px; height:100px;"/><br><br>
		<input type = "submit" value = "ìˆ˜ ì •" /><br>
	</form>
	<h4>ê¸°ì¡´</h4>
	<table border=1 width="600" align="center">
		<thead>
        <td>ëª©ì°¨</td>
		<td>ì´ë¦„</td>
		<td>ë‚´ìš©</td>
		</thead>
		<tr>
            <td>{{ index}}</td>
			<td>{{ rows[index-1][0] }}</td>
			<td>{{ rows[index-1][1] }}</td>
		</tr>
	</table>
 </body>
</html>

# main.py
from flask import Flask, render_template, request, redirect, url_for
app = Flask(__name__)

board = []

# ê²Œì‹œê¸€ ë¦¬ìŠ¤íŠ¸ ê°€ì ¸ì˜¤ê¸°
@app.route('/')
def index():
    return render_template('list.html', rows = board)

# ê²Œì‹œê¸€ ì¶”ê°€
@app.route('/add', methods = ['POST'])
def add():
    print(request.method)
    if request.method == 'POST':
        board.append([request.form['name'], request.form['context']])
        return redirect(url_for('index'))
    else:
        return render_template('list.html', rows = board)

# ê²Œì‹œê¸€ ì‚­ì œ
@app.route('/delete/<int:uid>')
def delete(uid):
    # loop.indexëŠ” 1ë¶€í„° ì„¸ê¸° ë•Œë¬¸ì— mainì—ì„œ ì‚¬ìš©í•  ë•ŒëŠ” uid-1 ê°’ì„ ì‚¬ìš© /
    del board[uid-1]
    return redirect(url_for('index'))

# ê²Œì‹œê¸€ ìˆ˜ì •
@app.route('/update/<int:uid>', methods=['GET','POST'])
def update(uid):
    if request.method =='POST':
        board[uid-1] = [request.form['name'], request.form['context']]
        return redirect(url_for('index'))
    else:
        return render_template('update.html',index=uid,rows=board)


if __name__ == '__main__':
    app.run(debug=True)

4. ì¸ì¦
Â  - ì¸ì¦ (Authentication) : ìœ ì €ì˜ identificationì„ í™•ì¸í•˜ëŠ” ì ˆì°¨ (ìœ ì €ì˜ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸).Â  - ë¡œê·¸ì¸ ì ˆì°¨
Â  Â  â‘  íšŒì›ê°€ì… : ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ìƒì„± â†’Â ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™” ì €ì¥
Â  Â Â â‘¡ ë¡œê·¸ì¸ : ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥ â†’Â ì…ë ¥í•œÂ ë¹„ë°€ë²ˆí˜¸ë¥¼Â ì•”í˜¸í™”Â í•œÂ í›„,Â DBì—Â ì €ì¥ëœÂ ì•”í˜¸í™”Â ë¹„ë°€ë²ˆí˜¸ì™€Â ë¹„êµ
Â  Â Â â‘¢ ì¼ì¹˜í•˜ë©´Â ë¡œê·¸ì¸Â ì„±ê³µ,Â ì¼ì¹˜í•˜ì§€Â ì•Šìœ¼ë©´Â ì—ëŸ¬ê°€Â ë°œìƒ
Â  Â Â â‘£ ë¡œê·¸ì¸ì´Â ì„±ê³µë˜ë©´Â access_tockenì„Â í´ë¼ì´ì–¸íŠ¸ì—ê²ŒÂ ì „ì†¡
Â  Â  â‘¤ ìœ ì €ëŠ”Â ë¡œê·¸ì¸Â ì„±ê³µÂ í›„Â ë‹¤ìŒë¶€í„°ëŠ”Â access_tockenì„Â ì²¨ë¶€í•˜ì—¬Â requestë¥¼Â ì„œë²„ì—Â ì „ì†¡
Â  - ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™” : ë¹„ë°€ë²ˆí˜¸ëŠ” ê·¸ëŒ€ë¡œ DBì— ì €ì¥X (DB í•´í‚¹ì‹œ ê·¸ëŒ€ë¡œ ìœ ì¶œë¨). ë¹„ë°€ë²ˆí˜¸ëŠ”Â ë°˜ë“œì‹œ ì•”í˜¸í™”í•˜ì—¬ ì €ì¥Â  
  - í—ˆê°€(Authorization) : ìš”ì²­í•˜ëŠ” requestë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì´ ìˆëŠ” ìœ ì €ì¸ê°€ë¥¼ í™•ì¸í•˜ëŠ” ì ˆì°¨
Â 
5. ë¡œê·¸ì¸Â ê¸°ëŠ¥Â êµ¬í˜„
# main.py
from flask import Flask, request, render_template, session, url_for, redirect

app = Flask(__name__)
app.secret_key = 'super secret key'
app.config['SESSION_TYPE'] = 'filesystem'
userinfo = {'Elice': '1q2w3e4r!!'}

# ì²« í˜ì´ì§€. session í™•ì¸í•´ ë¡œê·¸ì¸ ìƒíƒœë©´ loggedin.html ë‚˜ì˜¤ê³  ì•„ë‹ˆë©´ index.html
@app.route("/")
def home():
    if session.get('logged_in'):
        return render_template('loggedin.html ')
    else:
        return render_template('index.html')

# ë¡œê·¸ì¸ í˜ì´ì§€
# 1. ë¡œê·¸ì¸ í˜ì´ì§€ì—ì„œ ì…ë ¥ë°›ì€ username ì„ íšŒì› ì •ë³´ê°€ ì €ì¥ëœ userinfo ì•ˆì— ìˆëŠ”ì§€ í™•ì¸
# 2. ì—†ìœ¼ë©´ 'ì•„ì´ë””ê°€ ì—†ìŠµë‹ˆë‹¤' ë¦¬í„´ / ìˆìœ¼ë©´ usernameì— í•´ë‹¹í•˜ëŠ” passwordê°€ userinfo ì•ˆì— ìˆëŠ”ì§€ í™•ì¸
# 3. ì¼ì¹˜í•œë‹¤ë©´ session['logged_in'] ë³€ê²½í•˜ê³  loggedin.html ì´ë™ / ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ 'ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë¦½ë‹ˆë‹¤.' ë¦¬í„´
@app.route('/login', methods=['GET', 'POST'])
def login():
    if request.method == 'POST':
        name = request.form['username']
        password = request.form['password']
        try:
            if (name in userinfo):
                if userinfo[name] == password :
                    session['logged_in'] = True
                    return render_template('loggedin.html')                
                else:
                    return 'ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë¦½ë‹ˆë‹¤.'
            return 'ì•„ì´ë””ê°€ ì—†ìŠµë‹ˆë‹¤.'
        except:
            return 'Dont login'
    else:
        return render_template('login.html')

# íšŒì›ê°€ì…. ì „ë‹¬ë°›ì€ username ê³¼ password ë¥¼ userinfo ë”•ì…”ë„ˆë¦¬ì— ì¶”ê°€
@app.route('/register', methods=['GET', 'POST'])
def register():
    if request.method == 'POST':
        userinfo[request.form['username']] = request.form['password']
        return redirect(url_for('login'))
    else:
        return render_template('register.html')

# ë¡œê·¸ì•„ì›ƒ. session['logged_in'] ê°’ì„ Falseë¡œ ë°”ê¾¸ê³  ì´ˆê¸° í˜ì´ì§€ë¡œ redirect
@app.route("/logout")
def logout():
    session['logged_in'] = False
    return render_template('index.html')
6. ë¡œê¹…Â  - ë¡œê¹… : Logging. í”„ë¡œê·¸ë¨ì´ ì‘ë™í•  ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ì¶”ì í•˜ëŠ” í–‰ìœ„. í”„ë¡œê·¸ë¨ì˜ ë¬¸ì œë“¤ì„ íŒŒì•…í•˜ê³  ìœ ì§€ë³´ìˆ˜í•˜ëŠ”ë° ì‚¬ìš©ë˜ê³ , ë¡œê¹…ì„ í†µí•´ ë°œìƒí•œ ì—ëŸ¬ë¥¼ ì¶”ì í•  ìˆ˜ ìˆìŒÂ  - ë¡œê·¸ë¥¼ ë‚¨ê¸°ëŠ” ì´ìœ 
Â  Â  â‘  ì„±ëŠ¥ì—Â ê´€í•œÂ í†µê³„ì™€Â ì •ë³´ë¥¼Â ì œê³µ
Â  Â  â‘¡ ì¬í˜„í•˜ê¸°Â í˜ë“ Â ë²„ê·¸ì—Â ëŒ€í•œÂ ìœ ìš©í•œÂ ì •ë³´ë¥¼Â ì œê³µ
Â  Â  â‘¢ ì˜ˆê¸°ì¹˜Â ëª»í•œÂ íŠ¹ì •Â ë¬¸ì œë“¤ì„Â ë””ë²„ê·¸í•˜ê¸°Â ìœ„í•´Â ê·¸Â ë¬¸ì œë“¤ì„Â ì²˜ë¦¬í•˜ë„ë¡Â ì½”ë“œë¥¼Â ìˆ˜ì •í•˜ì—¬Â ë‹¤ì‹œÂ ì ìš©í•˜ì§€Â ì•Šì•„ë„,Â ì¼ë°˜ì ì¸Â ì •ë³´ë¥¼Â ì €ì¥í• Â ìˆ˜Â ìˆìŒ
Â  - ë¡œê¹… ë ˆë²¨(Loggin Level) : DEBUG<INFO<WARNING<ERROR<CRITICALÂ  Â  â†’ DEBUG : ìƒì„¸í•œ ì •ë³´Â  Â  â†’ INFO : ì¼ë°˜ì ì¸ ì •ë³´Â  Â  â†’Â WARNING : ì˜ˆìƒì¹˜ ëª»í•˜ê±°ë‚˜ ê°€ê¹Œìš´ ë¯¸ë˜ì— ë°œìƒí•  ë¬¸ì œÂ  Â  â†’Â ERROR : ì—ëŸ¬ ë¡œê·¸. ì‹¬ê°í•œ ë¬¸ì œÂ  Â  â†’Â CRITICAL : í”„ë¡œê·¸ë¨ ìì²´ê°€ ì‹¤í–‰ë˜ì§€ ì•Šì„ ìˆ˜ ìˆëŠ” ë¬¸ì œÂ  Â  â†’ ê¸°ë³¸ ë¡œê±° ë ˆë²¨ ì„¸íŒ…ì€ WARNINGì´ê¸° ë•Œë¬¸ì— ì„¤ì • ì—†ì´ INFO, DEBUGë¥¼ ì¶œë ¥í•  ìˆ˜ X
â€» ê¸°ë³¸ì ìœ¼ë¡œ 'ì„œë²„ ì‹œì‘ ë¡œê·¸,Â ì„œë²„ í¬íŠ¸ ë²ˆí˜¸,Â í•¨ìˆ˜ í˜¸ì¶œ,Â ë°ì´í„°ì˜ ì…ì¶œë ¥' ê°™ì€ ë¡œê¹… ì´ë ¥ì€ ë‚¨ê¸°ëŠ” ê²ƒì´ ì¢‹ìŒ
Â  - ë¡œê¹…Â êµ¬í˜„
# main.py
from flask import Flask,render_template

app = Flask(__name__)


# errorhandler()ë¥¼ ì‚¬ìš©í•´ì„œ 404 ì—ëŸ¬ë¥¼ ì œì–´
@app.errorhandler(404)
def page_not_found(error):
    # ì—ëŸ¬ ì‹ë³„
    app.logger.error(error)
    # ì—ëŸ¬í˜ì´ì§€ ì—°ê²°
    return render_template('page_not_found.html')

@app.route('/')
def hello_elice():
    return "Hello Elice!"

if __name__ == '__main__':
    app.run()
[03 RDBë¡œ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ ë° ì €ì¥í•˜ê¸°]
1. RDBì™€Â Flaskì˜Â ìƒí˜¸ì‘ìš©Â  - íš¨ìœ¨ì ì¸ ë°ì´í„° ê´€ë¦¬ ê¸°ëŠ¥ì„ ìœ„í•´ RDBë¥¼ ì—°ë™í•´ ì‚¬ìš©Â  - SQLAlchemy : íŒŒì´ì¬ ì½”ë“œì—ì„œ DBì™€ ì—°ê²°í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬
Â  - ì‚¬ìš©ì ì •ë³´ ê²€ìƒ‰
@app.route('/search', methods = ['GET', 'POST'])
def search():
    if request.method == 'POST':
        name = request.form['name']
        
        con = sqlite3.connect("database.db")  # database.dbì™€ connect()í•œ ê°ì²´ con
        cur = con.cursor()                    # conì˜ cursor()ê°’ cur ë§Œë“¤ê¸°
        # curì— formì„ í†µí•´ ì „ë‹¬ ë°›ì€ nameê°’ì´ DBì— ìˆëŠ”ì§€ ì°¾ëŠ” ì¿¼ë¦¬ë¬¸ì„ ì‹¤í–‰
        cur.execute(f"select * from Board WHERE name = '{name}'") 
        rows = cur.fetchall()                 # ì¿¼ë¦¬ë¬¸ ì‹¤í–‰ê²°ê³¼ë¥¼ fetchall()ì„ ì‚¬ìš©í•˜ì—¬ rowsì— ì €ì¥
        con.close()                           # conì„ close()ë¥¼ ì‚¬ìš©í•´ DBì™€ì˜ ì—°ê²°ì„ ì¢…ë£Œ
        print("DB:")
        for i in range(len(rows)):
            print(rows[i][0] + ':' + rows[i][1])
        return render_template('search.html', rows = rows)
    else:
        return render_template('search.html')
Â  - DBÂ ì‚¬ìš©ìÂ ì¶”ê°€
# DB ì‚¬ìš©ì ì¶”ê°€
@app.route('/add', methods = ['GET', 'POST'])
def add():
    if request.method == 'POST':
        # ë°ì´í„°ë² ì´ìŠ¤ì— ì¶”ê°€ê°€ ì™„ë£Œëœë‹¤ë©´ commit()ì„ í•˜ì§€ë§Œ ì¤‘ê°„ì— ë¬¸ì œê°€ ìƒê²¼ì„ ê²½ìš°ì—ëŠ”
        # ì´ì „ ìœ„ì¹˜ë¡œ rollback()í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— try~exceptë¬¸ìœ¼ë¡œ commit()ê³¼ rollback()ì„ ì œì–´
        try:
            name = request.form['name']
            context = request.form['context']
            print(name, context)
            with sqlite3.connect("database.db") as con:
                cur = con.cursor()
                con.execute(f"INSERT INTO Board(name, context) VALUES('{name}', '{context}')")
                con.commit()
        except:
            con.rollback()
        finally : 
            return redirect(url_for('board'))
    else:
        return render_template('add.html')
Â  - ì¤‘ë³µÂ ì‚¬ìš©ìÂ ë°©ì§€
@app.route('/add', methods = ['GET', 'POST'])
def add():
    if request.method == 'POST':
        name = request.form['name']
        context = request.form['context']
        with sqlite3.connect("database.db") as con:
            cur = con.cursor()
            # nameì´ DB ìƒì— ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
            cur.execute(f"SELECT name FROM Board WHERE name='{name}'")
            row = cur.fetchall()
            # name ì„ ê²€ìƒ‰í•œ ë¦¬ìŠ¤íŠ¸ì˜ ê¸¸ì´ê°€ 0ì´ë©´ ì‚¬ìš©ìë¥¼ ì¶”ê°€
            if len(row) == 0 :
                cur.execute(f"INSERT INTO Board (name, context) VALUES ('{name}', '{context}')")
                con.commit()
            else:
                # DB ìƒì— ì‚¬ìš©ìê°€ ìˆì„ ê²½ìš° ì¤‘ë³µì‚¬ìš©ìì„ì„ ì•Œ ìˆ˜ ìˆë„ë¡ add.htmlì˜ msg ì „ë‹¬
                return render_template('add.html', msg = "ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì‚¬ìš©ìì…ë‹ˆë‹¤.")
        return redirect(url_for('board'))
    else:
        return render_template('add.html')
Â  - DBë¥¼ ì´ìš©í•œ ê²€ìƒ‰, ì¶”ê°€ , ìˆ˜ì •, ì‚­ì œ
@app.route('/')
def board():
    con = sqlite3.connect("database.db")
    cur = con.cursor()
    cur.execute("select * from Board")
    rows = cur.fetchall()
    print("DB:")
    for i in range(len(rows)):
            print(rows[i][0] + ':' + rows[i][1])
    return render_template('board.html', rows = rows)


@app.route('/search', methods = ['GET', 'POST'])
def search():
    if request.method == 'POST':
        name = request.form['name']
        con = sqlite3.connect("database.db")
        cur = con.cursor()
        cur.execute(f"SELECT * FROM Board WHERE name='{name}' or context='{name}'")
        rows = cur.fetchall()
        print("DB:")
        for i in range(len(rows)):
            print(rows[i][0] + ':' + rows[i][1])
        return render_template('search.html', rows = rows)
    else:
        return render_template('search.html')


@app.route('/add', methods = ['GET', 'POST'])
def add():
    if request.method == 'POST':
        try:
            name = request.form['name']
            context = request.form['context']
            with sqlite3.connect("database.db") as con:
                cur = con.cursor()
                cur.execute(f"INSERT INTO Board (name, context) VALUES ('{name}', '{context}')")
                con.commit()
        except:
            con.rollback()
        finally : 
            con.close()
            return redirect(url_for('board'))
    else:
        return render_template('add.html')


@app.route('/update/<uid>', methods=['GET','POST'])
def update(uid):
    if request.method =='POST':
        name = request.form['name']
        context = request.form['context']
        with sqlite3.connect("database.db") as con:
            cur = con.cursor()
            con.execute(f"UPDATE Board SET name = '{name}', context = '{context}' WHERE name = '{uid}'")
            con.commit()
        return redirect(url_for('board'))
    else:
        con = sqlite3.connect("database.db")
        cur = con.cursor()
        cur.execute(f"SELECT * FROM Board WHERE name ='{uid}'")
        row = cur.fetchall()
        return render_template('update.html',row=row)


@app.route('/delete/<uid>')
def delete(uid):
    with sqlite3.connect("database.db") as con:
            cur = con.cursor()
            cur.execute(f"DELETE FROM Board WHERE name='{uid}'")
            con.commit()
    return redirect(url_for('board'))

[04 SQL Alchemy]
1. ORM
Â  - ORM : ê°ì²´ ê´€ê³„ ë§¤í•‘(Object Relational Mapping). ê°„ë‹¨í•˜ê²Œ ë°ì´í„°ë² ì´ìŠ¤ ë‚´ì˜ í…Œì´ë¸”ë“¤ì„ ê°ì²´í™”í•˜ì—¬ ê° DBMS(MySQL)ì— ëŒ€í•´ì„œ CRUD ë“±ì„ ê³µí†µëœ ì ‘ê·¼ ê¸°ë²•ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ. ë°˜ë³µë˜ëŠ” ì¿¼ë¦¬ë¥¼ ê°ì²´ ë‹¨ìœ„ë¡œ ìƒì„±í•˜ì—¬ ì´ë¥¼ í•´ê²°í•˜ê³ ì í–ˆê³  ì´ëŸ° ì‘ì—…ì„ ë„ì™€ì£¼ëŠ” ê²ƒì´ ë°”ë¡œ ORMì„. ORMì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ë”°ë¡œ SQLë¬¸ì„ ì‘ì„±í•  í•„ìš”ì—†ì´ ê°ì²´ë¥¼ í†µí•´ ê°„ì ‘ì ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°ì‘í•  ìˆ˜ ìˆìŒ. Python ORMì€ DjangoORM ê³¼ SQLAlchemy ë“±. (JPA ê°™ì€ ê²ƒ ë§í•˜ëŠ” ë“¯?ğŸ¤”)
Â  - ORM ì¥ì  : ê°œë°œ ìƒì‚°ì„±ì„ ì¦ê°€, ìœ ì§€ë³´ìˆ˜ì„±ì´ ì¢‹ìŒ, ì½”ë“œÂ ê°€ë…ì„±ì´Â ì¢‹ìŒÂ  - ORMÂ ë‹¨ì  : í˜¸ì¶œ ë°©ì‹ì— ë”°ë¼ ì„±ëŠ¥ì´ ì²œì°¨ë§Œë³„, ë³µì¡í•œ ì¿¼ë¦¬ ì‘ì„±ì‹œ, ORM ì‚¬ìš©ì— ëŒ€í•œ ë‚œì´ë„ê°€ ì¦ê°€, DBMS(MySQL) ê³ ìœ ì˜ ê¸°ëŠ¥ì„ ëª¨ë‘ ì‚¬ìš©í•˜ì§€ ëª»í•¨
Â  - SQLAlchemy : íŒŒì´ì¬ ORM ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ê°€ì¥ ë§ì´ ì‚¬ìš©. íŒŒì´ì¬ ì½”ë“œì—ì„œ Flaskë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì™€ ì—°ê²°í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ë©° ORMìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì„ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì˜ í´ë˜ìŠ¤ë¡œ í‘œí˜„í•˜ê²Œ í•´ì£¼ê³  í…Œì´ë¸”ì˜ ì €ì¥, ì½ê¸°, ì—…ë°ì´íŠ¸, ì‚­ì œ ë“±ì„ ì²˜ë¦¬í•¨Â  - SQLAlchemy ì‚¬ìš©í•˜ëŠ” ì´ìœ  : SQL ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡œ ê°ì²´ê°„ì˜ ê´€ê³„ë¥¼ í‘œí˜„í•  ìˆ˜ ìˆê¸° ë•Œë¬¸. ë°ì´í„°ë² ì´ìŠ¤ì˜ ì¢…ë¥˜ì™€ ìƒê´€ ì—†ì´ ì¼ê´€ëœ ì½”ë“œë¥¼ ìœ ì§€í•  ìˆ˜ ìˆì–´ í”„ë¡œê·¸ë¨ ìœ ì§€ ë° ë³´ìˆ˜ê°€ í¸ë¦¬í•˜ê³  SQL ì¿¼ë¦¬ë¥¼ ë‚´ë¶€ì—ì„œ ìë™ìœ¼ë¡œ ìƒì„±í•˜ê¸° ë•Œë¬¸ì— ì˜¤ë¥˜ ë°œìƒë¥ ì´ ì¤„ì–´ë“œëŠ” ì¥ì ì´ ìˆìŒ
Â  - ModelÂ êµ¬í˜„
from flask_sqlalchemy import SQLAlchemy
db = SQLAlchemy()
class Member(db.Model):
    name = db.Column(db.String(20), primary_key = True)
    age = db.Column(db.Integer, nullable=False)
Â  - ëª¨ë¸ ìƒì„±
# model.py
from main import db

class Member(db.Model):  # dbì˜ Model í´ë˜ìŠ¤ë¥¼ ìƒì†
    id = db.Column(db.Integer, primary_key=True)  # idëŠ” primary_key
    name = db.Column(db.String(50), nullable=True)
    age = db.Column(db.Integer, nullable=False)
    
    def __init__(self, name, age):  # idëŠ” ìƒì„± ìˆœì„œëŒ€ë¡œ ìë™ìœ¼ë¡œ ì§€ì •ë˜ë‹ˆ init X
        self.name = name
        self.age = age
Â 
Â  - ì¿¼ë¦¬ì˜ ì¢…ë¥˜
                ì¢…ë¥˜              ì‚¬ìš©ë²•
               equal                ==
               not equal           !=
               like                  like()
               in                    in_()
               not in               ~ in_()
               is null               ==None
               is not null          !=None
               and                  &
               or                    |
               order by            order_by()
               limit                 limit()
               offset               offset()
               count               count()
            Â  - equal


# ì´ë¦„ì´ "Elice"ì¸ ë©¤ë²„ë¥¼ ê²€ìƒ‰
@app.route('/')
def list():
    member_list = Member.query.filter(Member.name == 'Elice')
    return " ".join(i.name for i in member_list)
Â  - not equal
# ì´ë¦„ì´ "Elice"ê°€ ì•„ë‹Œ ë©¤ë²„ë¥¼ ê²€ìƒ‰
@app.route('/')
def list():
    member_list = Member.query.filter(Member.name != 'Elice')
    return " ".join(i.name for i in member_list)
Â 
 - like
# ì´ë¦„ì´ "Elice"ì™€ ë¹„ìŠ·í•œ ë©¤ë²„ë¥¼ ê²€ìƒ‰
@app.route('/')
def list():
    member_list = Member.query.filter(Member.name.like('Elice'))
    return " ".join(i.name for i in member_list)
Â 
 -Â in
# ì´ë¦„ì´ "Elice", "Dodo"ì— í¬í•¨ë˜ëŠ” ë©¤ë²„ë¥¼ ê²€ìƒ‰
@app.route('/')
def list():
    member_list = Member.query.filter(Member.name.in_(['Elice', 'Dodo']))
    return " ".join(i.name for i in member_list)
Â  
-Â not in
# ì´ë¦„ì´ "Elice", "Dodo"ì— í¬í•¨ë˜ì§€ ì•ŠëŠ” ë©¤ë²„ë¥¼ ê²€ìƒ‰
@app.route('/')
def list():
    member_list = Member.query.filter(~Member.name.in_(['Elice', 'Dodo']))
    return " ".join(i.name for i in member_list)
Â  
-Â is null
# ì´ë¦„ì´ ë¹„ì–´ìˆëŠ” ë©¤ë²„ë¥¼ ê²€ìƒ‰
@app.route('/')
def list():
    member_list = Member.query.filter(Member.name == None)
    return " ".join(i.name for i in member_list)
Â  
-Â is not nullÂ 
# ì´ë¦„ì´ ë¹„ì–´ìˆì§€ ì•Šì€ ë©¤ë²„ë¥¼ ê²€ìƒ‰
@app.route('/')
def list():
    member_list = Member.query.filter(Member.name != None)
    return " ".join(i.name for i in member_list)
Â  
-Â and
# ì´ë¦„ì´ "Elice"ì´ë©° ë‚˜ì´ê°€ 15ì‚´ì¸ ë©¤ë²„ë¥¼ ê²€ìƒ‰
@app.route('/')
def list():
    member_list = Member.query.filter((Member.name == 'Elice') & (Member.age == '15'))
    return " ".join(i.name for i in member_list)
Â  
-Â or
# ì´ë¦„ì´ "Elice"ì´ê±°ë‚˜ ë‚˜ì´ê°€ 15ì‚´ì¸ ë©¤ë²„ë¥¼ ê²€ìƒ‰
@app.route('/')
def list():
    member_list = Member.query.filter ((Member.name == 'Elice') | (Member.age == '15'))
    return " ".join(i.name for i in member_list)
Â  
-Â order by
# ë‚˜ì´ìˆœìœ¼ë¡œ ì •ë ¬í•˜ì—¬ ê²€ìƒ‰ (ê¸°ë³¸ = ì˜¤ë¦„ì°¨ìˆœ)
@app.route('/')
def list():
    member_list = Member.query.order_by(Member.age.desc())
    return " ".join(i.name for i in member_list)
Â  
-Â limit
# ë‚˜ì´ë¥¼ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•˜ë˜, limit_numì˜ í¬ê¸°ë§Œí¼ ë°˜í™˜
@app.route('/')
def list(limit_num = 5):
    if limit_num is None:
        limit_num = 5
    member_list = Member.query.order_by(Member.age.desc()).limit(limit_num)
    return " ".join(i.name for i in member_list)
Â  
-Â offset
# ë‚˜ì´ë¥¼ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•˜ë˜, off_set í¬ê¸°ë§Œí¼ ì•ì—ì„œ ë¶€í„° ìƒëµí•˜ê³  ë°˜í™˜
@app.route('/')
def list(off_set = 5):
    if off_set is None:
        off_set = 5
    member_list = Member.query.order_by(Member.age.desc()).offset(off_set)
    return " ".join(i.name for i in member_list)
Â  
-Â count
# ë‚˜ì´ë¥¼ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•˜ê³  ë‚˜ì˜¤ëŠ” íŠœí”Œ ìˆ˜ë¥¼ ë°˜í™˜
@app.route('/')
def list():
    member_list = Member.query.order_by(Member.age.desc()).count()
    return str(member_list)


[05Â RESTÂ API]
1. REST APIÂ  - REST API : RESTë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì„œë¹„ìŠ¤ APIë¥¼ êµ¬í˜„í•œ ê²ƒ. ìµœê·¼ OpenAPI(ëˆ„êµ¬ë‚˜ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ê³µê°œëœ API), ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤ ë“±ì„ ì œê³µí•˜ëŠ” ê¸°ì—…ì—ì„œëŠ” ëŒ€ë¶€ë¶„ REST APIë¥¼ ì œê³µí•¨Â  - REST APIì˜ íŠ¹ì§•Â  Â  â†’ REST ê¸°ë°˜ìœ¼ë¡œ ì‹œìŠ¤í…œì„ ë¶„ì‚°í•˜ì—¬ í™•ì¥ì„±ê³¼ ì¬ì‚¬ìš©ì„±ì„ ë†’ì—¬ ìœ ì§€ë³´ìˆ˜ë¥¼ í¸ë¦¬í•˜ê²Œ í•  ìˆ˜ ìˆìŒÂ  Â  â†’Â RESTëŠ” HTTP í‘œì¤€ì„ ê¸°ë°˜ìœ¼ë¡œ êµ¬í˜„í•˜ë¯€ë¡œ, HTTPë¥¼ ì§€ì›í•˜ëŠ” í”„ë¡œê·¸ë¨ ì–¸ì–´ë¡œ í´ë¼ì´ì–¸íŠ¸, ì„œë²„ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŒÂ  - REST API ì„¤ê³„ì˜ ê¸°ë³¸ ê·œì¹™Â  Â  â‘  URIëŠ” ì •ë³´ì˜ ìì›ì„ í‘œí˜„ : URIëŠ” ìì›ì„ í‘œí˜„í•˜ëŠ” ë°ì— ì¤‘ì ì„ ë‘ì–´ì•¼ í•¨. (GETê°™ì€ í–‰ìœ„ì— ëŒ€í•œ í‘œí˜„ì´ ë“¤ì–´ê°€ë©´ X) ìì›ì€ ë™ì‚¬ë³´ë‹¤ëŠ” ëª…ì‚¬ë¥¼, ëŒ€ë¬¸ìë³´ë‹¤ëŠ” ì†Œë¬¸ìë¥¼ ì‚¬ìš©. ìì›ì˜ ë„íë¨¼íŠ¸ ì´ë¦„ìœ¼ë¡œëŠ” ë‹¨ìˆ˜ ëª…ì‚¬ë¥¼ ì‚¬ìš©í•˜ê³  ìì›ì˜ ì»¬ë ‰ì…˜ ì´ë¦„ìœ¼ë¡œëŠ” ë³µìˆ˜ ëª…ì‚¬ë¥¼ ì‚¬ìš©. ìì›ì˜ ìŠ¤í† ì–´ ì´ë¦„ìœ¼ë¡œëŠ” ë³µìˆ˜ ëª…ì‚¬ë¥¼ ì‚¬ìš©í•´ì•¼ í•¨
Â  Â  â‘¡ ìì›ì— ëŒ€í•œ í–‰ìœ„ëŠ” HTTP Method(GET, POST, PUT, DELETE ë“±)ìœ¼ë¡œ í‘œí˜„ : ì£¼ë¡œ 5ê°€ì§€ì˜ Method(GET, POST, PUT, PATCH, DELETE)ë¥¼ ì‚¬ìš©í•˜ì—¬ CRUDë¥¼ êµ¬í˜„

        Method                   Action                      ì—­í• 
          GET                  index/retrieve        ëª¨ë“ /íŠ¹ì • ìì›ì„ ì¡°íšŒ
          POST                    create              ìì›ì„ ìƒì„±
          PUT                     replace             ìì›ì˜ ì „ì²´ë¥¼ êµì²´
          PATCH                  modify             ìì›ì˜ ì¼ë¶€ë¥¼ ìˆ˜ì •
          DELETE                  delete             ëª¨ë“ /íŠ¹ì • ìì›ì„ ì‚­ì œ

Â  - RESTÂ APIÂ ì„¤ê³„Â ê·œì¹™
Â  Â  â‘  ìŠ¬ë˜ì‹œ(/)ëŠ” ê³„ì¸µ ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë° ì‚¬ìš©. ex.
Â  Â Â â‘¡ URIÂ ë§ˆì§€ë§‰Â ë¬¸ìë¡œÂ ìŠ¬ë˜ì‹œ(/)ë¥¼Â í¬í•¨í•˜ì§€X Â  Â  â‘¢ í•˜ì´í”ˆ(-)ì€Â URIÂ ê°€ë…ì„±ì„Â ë†’ì´ëŠ”ë°Â ì‚¬ìš©Â 
Â  Â Â â‘£ ë°‘ì¤„(_)ì€Â URIì—Â ì‚¬ìš©í•˜ì§€Â XÂ 
Â  Â Â â‘¤ URIÂ ê²½ë¡œì—ëŠ”Â ì†Œë¬¸ìë¥¼Â ì‚¬ìš©Â 
Â  Â Â â‘¥ íŒŒì¼í™•ì¥ìëŠ”Â URIì—Â í¬í•¨í•˜ì§€Â XÂ 
Â  Â Â â‘¦ ìì›Â ê°„ì—Â ì—°ê´€Â ê´€ê³„ê°€Â ìˆëŠ”Â ê²½ìš°Â '/ìì›ëª…/ìì›ID/ê´€ê³„ê°€Â ìˆëŠ”Â ë‹¤ë¥¸Â ìì›ëª…'
Â  - RESTful : ì¼ë°˜ì ìœ¼ë¡œ RESTë¼ëŠ” ì•„í‚¤í…ì²˜ë¥¼ êµ¬í˜„í•˜ëŠ” ì›¹ ì„œë¹„ìŠ¤ë¥¼ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ìš©ì–´. 
     ì¦‰, REST APIë¥¼ ì‚¬ìš©í•˜ëŠ” ì›¹ ì„œë¹„ìŠ¤ë¥¼ RESTfulí•˜ë‹¤ê³  í•˜ë©° RESTfulì€ RESTë¥¼ RESTë‹µê²Œ ì“°ê¸° ìœ„í•œ ë°©ë²•ì„. (RESTì˜ ì›ë¦¬ë¥¼ ë”°ë¥´ê³  ì‚¬ìš©í•˜ëŠ” ì‹œìŠ¤í…œì„ RESTfulì´ë¼ëŠ” ìš©ì–´ë¡œ ì¹­í•¨)Â  
  - RESTfulì˜ ëª©ì  : ì´í•´í•˜ê¸° ì‰½ê³  ì‰¬ìš´ REST APIë¥¼ ë§Œë“œëŠ” ê²ƒ. ì„±ëŠ¥ì´ ì¤‘ìš”í•œ ìƒí™©ì—ì„œëŠ” êµ³ì´ RESTfulí•œ APIë¥¼ êµ¬í˜„í•  í•„ìš”ê°€ X
Â  -Â CRUD ì„¤ê³„ : CRUD (Create, Read, Update, Delete)ëŠ” ê¸°ë³¸ì ì¸ ë°ì´í„° ì²˜ë¦¬ 4ê°€ì§€ ê¸°ëŠ¥ì„Â  Â  â‘ Â CREATE êµ¬í˜„


from flask import Flask, render_template, request, redirect, url_for
import json

app = Flask(__name__)

board = []

@app.route('/')
def index():
    return render_template('Board.html', rows = board)

@app.route('/create', methods = ['POST'])
def create():
    # formì„ í†µí•´ ì „ë‹¬ë°›ì€ nameê³¼ contextë¥¼ board ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€
    board.append([request.form['name'], request.form['context']])
    
    # create() ë©”ì†Œë“œì—ì„œ json í˜•íƒœì˜ ë°ì´í„°ë¥¼ ë°˜í™˜
    return json.dumps({ "status": 200, "result": {"id": len(board) }} )
    
if __name__ == '__main__':
    app.run(debug=True)

Â  Â  â‘¡ READ êµ¬í˜„
from flask import Flask, render_template, request, redirect, url_for
import json


app = Flask(__name__)

board = []

@app.route('/')
def index():
    return render_template('Board.html', rows = board)

@app.route('/create', methods = ['POST'])
def create():
    board.append([request.form['name'], request.form['context']])
    
    return json.dumps({ "status": 200, "result": {"id": len(board) }})


@app.route('/read', methods = ['GET'])
def read():
    # read() ë©”ì†Œë“œì—ì„œ json í˜•íƒœì˜ ë°ì´í„°ë¥¼ ë°˜í™˜
    return json.dumps({ "status": 200, "result": board })
    
if __name__ == '__main__':
    app.run(debug=True)
Â  Â  â‘¢ RESTÂ APIë¥¼Â AJAXë¡œÂ êµ¬í˜„
# main.py
from flask import Flask, render_template, jsonify, request

app = Flask(__name__)

board = []

@app.route('/')
def index():
    return render_template('index.html', rows=board)

@app.route('/ajax', methods=['POST'])
def ajax():
    # data ë³€ìˆ˜ì— requestë¥¼ ì´ìš©í•´ ì „ë‹¬ëœ ë°ì´í„°ë¥¼ json í˜•íƒœë¡œ ì €ì¥
    data = request.get_json()
    board.append(data)
    
    # jsonify()ë¥¼ ì´ìš©í•´ ê²°ê³¼ë¥¼ ë°˜í™˜
    return jsonify({ 'result' : "success", 'result2' : data })
<!-- index.html -->
<script>
        $('#execute').click(function(){
            var id = $('#id1').val();
            var name = $('#name1').val();
            var context = $('#context1').val();

            var postdata = {
                'id':id, 'name':name, 'context':context
            }
            $.ajax({
                type: 'POST',
                url: '{{url_for("ajax")}}',
                data: JSON.stringify(postdata),
                dataType : 'JSON',
                contentType: "application/json",
                success: function(data){
                    alert('ì„±ê³µ! ë°ì´í„° ê°’:' + data.result2['id']+" " + data.result2['name']+ " " + data.result2['context'])
                },
                error: function(request, status, error){
                    alert('ajax í†µì‹  ì‹¤íŒ¨')
                    alert(error);
                }
            })
        })
</script>
Â  Â Â â‘£ AJAXë¥¼ ì´ìš©í•´ UPDATE &Â DELETEÂ êµ¬í˜„
from flask import Flask, render_template, jsonify, request

app = Flask(__name__)

board = [{"id": 1, "name": "elice", "context": "test"}]

@app.route('/')
def index():
    return render_template('index.html', rows = board)

@app.route('/create', methods=['POST'])
def create():
    data = request.get_json()
    board.append(data)
    return jsonify(result = "success", result2= data)

# ì‚­ì œë˜ê±°ë‚˜ ìˆ˜ì •ë˜ëŠ” ë°ì´í„°ëŠ” boardë¦¬ìŠ¤íŠ¸ì˜ ê°€ì¥ ë§ˆì§€ë§‰ ë°ì´í„°
@app.route('/delete', methods=['POST'])
def delete():
    # board ë¦¬ìŠ¤íŠ¸ì˜ ë§ˆì§€ë§‰ ìš”ì†Œë¥¼ ì‚­ì œí•˜ê³  jsonify()ë¥¼ ë°˜í™˜
    board.pop()
    return jsonify({ 'result' : "success" })
    
# ì‚­ì œë˜ê±°ë‚˜ ìˆ˜ì •ë˜ëŠ” ë°ì´í„°ëŠ” boardë¦¬ìŠ¤íŠ¸ì˜ ê°€ì¥ ë§ˆì§€ë§‰ ë°ì´í„°
@app.route('/put', methods=['POST'])
def put():
    # requestë¥¼ í†µí•´ ì „ë‹¬ëœ ë°ì´í„°ë¥¼ dataë³€ìˆ˜ì— ì €ì¥
    data = request.get_json()
    # board ë¦¬ìŠ¤íŠ¸ì˜ ë§ˆì§€ë§‰ ìš”ì†Œë¥¼ ìœ¼ë¡œ dataë¡œ ìˆ˜ì •í•˜ê³  jsonify()ë¥¼ ë°˜í™˜
    board[-1]['id'] = data['id']
    board[-1]['name'] = data['name']
    board[-1]['context'] = data['context']
    
    return jsonify({ 'result' : "success", 'result2' : data })
<!-- index.html -->
<script>
        $('#create').click(function(){
            var id = $('#id1').val();
            var name = $('#name1').val();
            var context = $('#context1').val();

            var postdata = {
                'id':id, 'name':name, 'context':context
            }
            $.ajax({
                type: 'POST',
                url: '{{url_for("create")}}',
                data: JSON.stringify(postdata),
                dataType : 'JSON',
                contentType: "application/json",
                success: function(data){
                    alert('ì„±ê³µ! ë°ì´í„° ê°’:' + data.result2['id']+" " + data.result2['name']+ " " + data.result2['context'])
                },
                error: function(request, status, error){
                    alert('ajax í†µì‹  ì‹¤íŒ¨')
                    alert(error);
                }
            })
        })
        $('#update').click(function(){
            var id = $('#id1').val();
            var name = $('#name1').val();
            var context = $('#context1').val();

            var postdata = {
                'id':id, 'name':name, 'context':context
            }
            $.ajax({
                type: 'POST',
                url: '{{url_for("put")}}',
                data: JSON.stringify(postdata),
                dataType : 'JSON',
                contentType: "application/json",
                success: function(data){
                    alert('ì„±ê³µ! ìˆ˜ì •ëœ ë°ì´í„° ê°’:' + data.result2['id']+" " + data.result2['name']+ " " + data.result2['context'])
                },
                error: function(request, status, error){
                    alert('ajax í†µì‹  ì‹¤íŒ¨')
                    alert(error);
                }
            })
        })
        
        $('#delete').click(function(){
            $.ajax({
                type: 'POST',
                url: '{{url_for("delete")}}',
                contentType: "application/json",
                success: function(){
                    alert('ì„±ê³µ! ë°ì´í„° ì‚­ì œ ì™„ë£Œ')
                },
                error: function(request, status, error){
                    alert('ajax í†µì‹  ì‹¤íŒ¨')
                    alert(error);
                }
            })
        })
</script>

â€» ìˆ˜ì—… ìë£Œì˜ ì¶œì²˜ëŠ” K-Digital Training x ì—˜ë¦¬ìŠ¤ ì¸ê³µì§€ëŠ¥ ì„œë¹„ìŠ¤ ê°œë°œ ê¸°íš 1ê¸° (elice.io/)ì…ë‹ˆë‹¤.
ì¶œì²˜: https://developer-max.tistory.com/37 [GO WILD, SPEAK LOUD, THINK HARD:í‹°ìŠ¤í† ë¦¬]



Jinja2 í…œí”Œë¦¿ ë¡œë“œ

(base) C:\Users\Administrator>cd AppData\Roaming\Microsoft\Windows

(base) C:\Users\Administrator\AppData\Roaming\Microsoft\Windows>python
Python 3.8.8 (default, Apr 13 2021, 15:08:03) [MSC v.1916 64 bit (AMD64)] :: Anaconda, Inc. on win32
Type "help", "copyright", "credits" or "license" for more information.
>>> from jinja2 import Environment, FileSystemLoader
>>> file_loader = FileSystemLoader('templates')
>>> env = Environment(loader=file_loader)
>>>
>>> template = env.get_template('hello_world.txt')
>>> template.render()
'Hello, World!!'

{{name}}ì€ {{animal}} 3ë§ˆë¦¬ë¥¼ ê°€ì§€ê³  ìˆë‹¤.
>>> template = env.get_template('dogs.txt')
>>> template.render()
'ì€  3ë§ˆë¦¬ë¥¼ ê°€ì§€ê³  ìˆë‹¤.'
>>> template.render(name='ê¹€ë§ë˜¥')
'ê¹€ë§ë˜¥ì€  3ë§ˆë¦¬ë¥¼ ê°€ì§€ê³  ìˆë‹¤.'
>>>

{{data.name}}ëŠ” ì—°ë´‰ì´ {{data.salary}} ì…ë‹ˆë‹¤.
>>> template = env.get_template('person_info.txt')
>>> person = {}
>>> person['name'] = 'í™ê¸¸ë¶'
>>> person['salary'] = 2000
>>>
>>> template.render(data=person)
'í™ê¸¸ë¶ëŠ” ì—°ë´‰ì´ 2000 ì…ë‹ˆë‹¤.'

{% if truth %}
ì§„ì‹¤ì…ë‹ˆë‹¤.
{% else %}
ì´ê²ƒì€ ê±°ì§“ì…ë‹ˆë‹¤.
{% endif %}

>>> template = env.get_template('if_structure.txt')
>>> template.render(truth = True)
'\nì§„ì‹¤ì…ë‹ˆë‹¤.\n'
>>> template.render(truth = False)
'\nì´ê²ƒì€ ê±°ì§“ì…ë‹ˆë‹¤.\n'

{% for color in colors %}
    {{color}}
{% endfor %}

>>> template = env.get_template('color.txt')
>>> colors = ['red', 'yellow', 'blue']
>>> template.render(colors = colors)
'\n    red\n\n    yellow\n\n    blue\n'
>>> print( template.render(colors = colors))

    red

    yellow

    blue

header.html
<HEAD>
    <title>
        {{ title }}
    </title>
</HEAD>

base.html
<HTML>
        {% include 'header.html' %}
    <BODY>
        {% block content %}{% endblock %}
    </BODY>
</HTML>

>>> template = env.get_template('base.html')
>>> template.render(title = 'í˜ì´ì§€ ì œëª©')
'<HTML>\n        <HEAD>\n    <title>\n        í˜ì´ì§€ ì œëª©\n    </title>\n</HEAD>\n    <BODY>\n        \n    </BODY>\n</HTML>'
>>> print(template.render(title = 'í˜ì´ì§€ ì œëª©'))
<HTML>
        <HEAD>
    <title>
        í˜ì´ì§€ ì œëª©
    </title>
</HEAD>
    <BODY>

    </BODY>
</HTML>
>>>

child.html
{% extends "base.html" %}

{% block content %}
    <p>
        {{ body }}
    </p>
{% endblock%}

>>> template = env.get_template('child.html')
>>> print(template.render(title = 'jinja2 ì—°ìŠµ', body = 'í…œí”Œë¦¿ ìƒì† í…ŒìŠ¤íŠ¸í•˜ê¸°'))
<HTML>
        <HEAD>
    <title>
        jinja2 ì—°ìŠµ
    </title>
</HEAD>
    <BODY>

    <p>
        í…œí”Œë¦¿ ìƒì† í…ŒìŠ¤íŠ¸í•˜ê¸°
    </p>

    </BODY>
</HTML>



{% extends "<ë¶€ëª¨ í…œí”Œë¦¿ì˜ ì´ë¦„>" %}
{% block %} <ëŒ€ì²´í•  ì½”ë“œ> {% endblock %}

temp2.html
{% extends "layout,html" %}
{% block content%}
   <h4></h4>
   <br/>
   <p></p>
   <p></p>
    <p></p>
    <ul>
    </ul>
    <h4></h4>
{% endblock %}


nav.html

layout.html
<!DOCTYPE html>
    <head>
        <title>Flask Template Example</title>
        <meta name="veiwport" content = "width=device-width, initial-scale=1.0">
        <link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel = "stylesheet" media="screen">
    </head>
        <style type="text/css">
            h3 {color:blue}
            h4 {color:red}
            .h {color:green}
        </style>
    <body>
    {% include 'nav.html' %}
    {% block heading %}
        <h1>{% block page %}{%endblock page%} - Jinja2 ì‚¬ìš©í•˜ê¸° </h1>
    {% endblock heading %}
        <div class = 'wrap'>
            <h3>ê¸°ë³¸  í…œí”Œë¦¿ ì˜ì—­ </h3>
            <br/>
            {% block content %}{% endblock %}
            <br/>
            <h3>ê¸°ë³¸ í…œí”Œë¦¿ ì˜ì—­ </h3>
            <br/>
            <div class = "footer">
                {% block footer %}
                    <h2 class="h">ì¶”ê°€ëœ footer  ì˜ì—­</h2>
                {% endblock footer%}
            </div>
        </div>
        <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src = "http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    </body>
</html>

temp2.html
{% extends "layout.html" %}
{% block content %}
    <h4>ìì‹ í…œí”Œë¦¿ì˜ ì‹œì‘</h4>
    <br/>
    <p>My String : {{my_string}}</p>
    <p>ë¦¬ìŠ¤íŠ¸ ê°’ : {{my_list[2]}}</p>
    <p>ì „ì²´ ë¦¬ìŠ¤íŠ¸</p>
    <ul>
        {% for n in my_list%}
        <li>{{n}}</li>
        {% endfor%}
    </ul>
    <h4>ìì‹ í…œí”Œë¦¿ì˜ ë</h4>
{% endblock%}




white_space.html
<!-- jinja2ëŠ” íƒ­, ê³µë°±ë¬¸ì, ê°œí–‰ë¬¸ì ì œê±°í•˜ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ ë‘”ë‹¤ -->

<div>
    {% if Truth -%}
        ì´ê²ƒì€ ì°¸ì…ë‹ˆë‹¤.
    {%- else -%}
        ì´ê²ƒì€ ê±°ì§“ì…ë‹ˆë‹¤.
    {%- endif %}
</div>


&nbsp; escaping ì²˜ë¦¬ í•„ìš”
{{ '}}' }}

{% raw %} 

{% endraw %}





<br> : ì¤„ ë°”ê¾¸ê¸°
<p> : ë‹¨ë½ ë°”ê¾¸ê¸°
<hr> : ê°€ë¡œì¤„
<center> ... </center> : ê°€ìš´ë° ì •ë ¬
<font> ... </font> : í°íŠ¸ ë³€ê²½
<ul><li> ... <li> ...Â </ul> : ìˆœì„œì—†ëŠ” ëª©ë¡(ë™ê·¸ë¼ë¯¸)
<ol><li> ... <li> ... </ol> : ìˆœì„œìˆëŠ” ëª©ë¡(ìˆ«ì)
<table> ... </table> : í‘œ ë§Œë“¤ê¸°
<tr> ... </tr> : í–‰
<td> ... </td> : ì—´
ì¶œì²˜: https://yeolco.tistory.com/102?category=762244 [ì—´ì½”ì˜ í”„ë¡œê·¸ë˜ë° ì¼ê¸°:í‹°ìŠ¤í† ë¦¬]



[CSS] Div ê°€ìš´ë° ì •ë ¬í•˜ëŠ” ë°©ë²•
https://88240.tistory.com/391

cssì˜ postion ì„ ì¨ì„œ div ë°•ìŠ¤ë¥¼ ê°€ìš´ë° í•˜ë ¤ê³  í•˜ëŠ”ë° ì€ê·¼ ë³µì¡í•˜ê³  ë§‰ìƒ ëœ»ëŒ€ë¡œ ì˜ ì•ˆë¼ì„œ í• ë•Œë§ˆë‹¤ í•­ìƒ ë²„ë²…ì¸ë‹¤.
ë°©ë²•ì„ ì°¾ìœ¼ë ¤ê³  ê²€ìƒ‰í•˜ë‹¤ê°€ ëª…ì¾Œí•˜ê²Œ ì •ë¦¬í•´ë†“ì€ ì‚¬ì´íŠ¸ê°€ìˆì–´ì„œ ë©”ëª¨í•œë‹¤.

ë‹¤ìŒì€ wrapì´ë¼ëŠ” divì•ˆì— center_box ë¼ëŠ” divë¥¼ wrapì´ë¼ëŠ” divë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê°€ìš´ë° ì •ë ¬í•˜ë ¤ í•˜ëŠ” ì˜ˆì‹œì´ë‹¤.

- html
<div class="wrap">
Â  Â  <div class="center_box&quot;">
Â  Â  Â  Â  test
Â  Â  </div>
</div>

- css
.wrap { 
    width: 100%; 
    position: relative; 
    background: red 
}
.center_box { 
    width: 300px; 
    hegiht: 200px; 
    position: absolute; 
    background: blue; 
    top: 50%; 
    left: 50%; 
    margin-top: -100px; 
    margin-left: -150px; 
}

wrapì„ positionì„ relative ë¡œ í•´ë†“ì€ ë‹¤ìŒì— center_boxëŠ” positionì„ absoluteë¡œ í•´ë†“ëŠ”ë‹¤.Â 
ì´ê±´ wrapì˜ ìœ„ì¹˜ì™€ í¬ê¸°ì— ë”°ë¼ center_boxì˜ ìœ„ì¹˜ê°€ ìƒëŒ€ì ìœ¼ë¡œ ë³€ê²½ë˜ê²Œ í•˜ê¸°ìœ„í•¨ì´ë‹¤.Â 
ê·¸ë‹¤ìŒ center_boxì— top, left ê°’ì„ ê°ê° 50%ì¤€ë‹¤.Â ê·¸ëŸ¼ center_boxì˜ ë§¨ìœ„ì™¼ìª½ ê¼­ì§€ì ì´ wrapì˜ ë†’ì´ ë°˜, ë„ˆë¹„ ë°˜ì¸ ê³³ì— ê°€ê²Œëœë‹¤.
Â 
ì´ë•Œ margin-topê³¼ margin-left ê°’ì„ ê°ê° center_boxì˜ ìƒˆë¡œê°’ì˜ ë°˜, ë„ˆë¹„ê°’ì˜ ë°˜ì„ ë§ˆì´ë„ˆìŠ¤ ì¶•ìœ¼ë¡œ ì´ë™í•´ì¤€ë‹¤.
ì¦‰, center_boxì˜ ë†’ì´ê°€ 200ì´ë‹ˆ margin-topì€ -100ë§Œí¼Â ë„ˆë¹„ê°€ 300ì´ë‹ˆ margin-leftëŠ” -150ë§Œí¼ ì´ë™ì„ í•˜ë©´ center_box ëŠ” ê°€ìš´ë°ë¡œ ìœ„ì¹˜í•˜ê²Œëœë‹¤.

ì°¸ê³ ì‚¬ì´íŠ¸ :Â http://two-leaves.tistory.com/entry/div-%EA%B0%80%EC%9A%B4%EB%8D%B0-%EC%A0%95%EB%A0%AC%ED%95%98%EA%B8%B0



C:\Users\Administrator\AppData\Roaming\Microsoft\Windows\Templates



test_request_context() : flask ë©”ì†Œë“œ, HTTP ìš”ì²­ì„ í…ŒìŠ¤íŠ¸
# url_for() ë©”ì†Œë“œ í™œìš©

# ì›¹í”„ë¡œê·¸ë¨ í†µì‹ 

ëª¨ë“  ì›¹í”„ë¡œê·¸ë¨ì€ ì‚¬ìš©ìê°€ ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ì´ìš©í•´ì„œ ì›¹í”„ë¡œê·¸ë¨ì´ ê°€ì§€ëŠ” ìì›ì„ ìš”ì²­í•˜ë©´ ì›¹ë¸Œë¼ìš°ì €ê°€ ì´í•´í•  ìˆ˜ ìˆëŠ”
í˜•íƒœë¡œ ì¬ê°€ê³µí•˜ê±°ë‚˜ ìˆëŠ” ìì› ê·¸ëŒ€ë¡œ ì›¹ë¸Œë¼ìš°ì €ì—ê²Œ ë°˜í™˜í•œë‹¤.

   Client          â†”         Server      â†”      Web program     (â†”     DB)
   Browser    â†–       ë‹¨ìˆœ HTML, ì´ë¯¸ì§€
          contents negociation
          ì œëŒ€ë¡œ ìˆ˜í–‰ë˜ì§€ ì•Šìœ¼ë©´ ë¬¸ì œ ë°œìƒ (ì´í•´í•  ìˆ˜ ì—†ëŠ” ë°ì´í„°, ì›¹ë¸Œë¼ìš°ì € ë‹¤ìš´)

HTTP 1.1 
 
# ì›¹ì„œë²„ì™€ ì›¹ë¸Œë¼ìš°ì €ê°„ì— ë°œìƒí•˜ëŠ” ìì› ë°˜í™˜ë‹¨ê³„ì—ì„œëŠ” ì›¨ì„œë²„ê°€ ì»¨í…ì¸  í˜‘ìƒ(contents negociation) ë‹¨ê³„ë¥¼ ê±°ì¹œ í›„ 
ì›¹ë¸Œë¼ìš°ì €ì— ê²°ê³¼ë¥¼ ë°˜í™˜í•¨
ì´ ë‹¨ê³„ëŠ” ì›¹ë¸Œë¼ìš°ì €ê°€ ë¬´ì—‡ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ”ì§€ ì›¹ì„œë²„ì™€ í˜‘ìƒí•˜ëŠ” ë‹¨ê³„

1. ì„œë²„ ê¸°ë°˜ì˜ í˜‘ìƒ : ì›¹ì„œë²„ê°€ ì›¹ë¸Œë¼ìš°ì €ì— ë°˜í™˜í•  ë°ì´í„°ì˜ í˜•íƒœë¥¼ ì§ì ‘ ê²°ì • (ì›¹ë¸Œë¼ìš°ì € ì •ë³´ htmlì—ì„œ ì œê³µ)
2. ì—ì´ì „íŠ¸(ìºì‹œì„œë²„) ê¸°ë°˜ì˜ í˜‘ìƒ : ì›¹ ì„œë²„ê°€ ì‘ë‹µí•  ë°ì´í„° ì²˜ë¦¬ í˜•íƒœë¥¼ ê²°ì •í•˜ê¸° ìœ„í•´ ì²« ë²ˆì§¸ ìˆ˜ì‹ ì„ 
                                            ì²˜ë¦¬í•œ ì—ì´ì „íŠ¸ì— ì˜í•´ í˜•íƒœë¥¼ ê²°ì • 
3. íˆ¬ëª…í•œ í˜‘ìƒ (1, 2 í˜¼í•©) : 2ê°€ì§€ ì¥ì 

# í˜‘ìƒì— í•„ìš”í•œ HTTP ë©”ì„¸ì§€ í—¤ë”
Accept : ë¸Œë¼ìš°ì €ê°€ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ë°ì´í„°ì˜ í˜•íƒœ, ì„ í˜¸ë„ text/html

Accept-Language : ë¸Œë¼ìš°ì €ê°€ ìˆ˜ìš©í•  ìˆ˜ ìˆëŠ” ì‘ë‹µê²°ê³¼ì˜ ì–¸ì–´ì™€ ì„ í˜¸ë„
Accept-Encoding : ë¸Œë¼ìš°ì €ê°€ ìˆ˜ìš©í•  ìˆ˜ ìˆëŠ” ì‘ë‹µ ì¸ì½”ë”© í˜•íƒœì™€ ì„ í˜¸ë„

HTTP Msg : Header (key : value, ex) Host : ~.kr) + Body
               Reaquest, 



          HTTP               CGI (Common Gate Interface) ê·œì•½ perl(80%), C, C++ â†’ íŒŒì´ì¬ cgi (Web serveì™€ Web program ë…ë¦½ì )
Client       â†”        Web server      â†”     Web program

CGI â†’ WSGI (Web Server Gateway Interface)


# íŒŒì´ì¬ì„ ìœ„í•œ ì›¹í”„ë¡œê·¸ë¨ì˜ í†µì‹  ê·œì•½

# ì›¹í”„ë¡œê·¸ë¨ì€ ì‚¬ìš©ìê°€ ë³´ë‚¸ ìš”ì²­ê³¼ ìš”ì²­ì„ ì²˜ë¦¬í•œ ê²°ê³¼ë¥¼ ì›¹ì„œë²„ë¥¼ ê²½ìœ í•´ì„œ ì£¼ê³ ë°›ëŠ”ë‹¤.
# ì´ë•Œ ì›¹ì„œë²„ì™€ ì›¹í”„ë¡œê·¸ë¨ê°„ì˜ ë©”ì‹œì§€ë¥¼ ì£¼ê³  ë°›ê¸°ìœ„í•œ ì•½ì†ì´ í•„ìš”í•œë° ì´ì•½ì†ì„ CGIê·œì•½ì´ë¼ê³  í•œë‹¤.

# CGI(Common Gateway Interface) : CGI í”„ë¡œê·¸ë˜ë°ì„ í•˜ê¸°ìœ„í•œ ì–¸ì–´ëŠ” í™˜ê²½ë³€ìˆ˜ë‚˜ í‘œì¤€ ì…ì¶œë ¥ì„
#           ë‹¤ë£°ìˆ˜ ìˆëŠ” ì–¸ì–´ë¼ë©´ ëª¨ë‘ ì‚¬ìš©ê°€ëŠ¥í•˜ì§€ë§Œ, ì‹¤í–‰ ì†ë„ë‚˜ ê°œë°œ í¸ì˜ì„±ì„ ê³ ë ¤í•˜ì—¬ 2000ë…„ëŒ€ ì´ˆ
#           ê¹Œì§€ëŠ” ëŒ€ë¶€ë¶„ í„(Perl) ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤.

# ì†ŒìŠ¤ ì½”ë“œì˜ ë³´ì•ˆì„±ì„ ìœ„í•´ C, C++, ë¸íŒŒì´ì™€ ê°™ì€ ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ë„ ìˆëŠ”ë°, ì´ ì–¸ì–´ë“¤ì€
#           ì›¹ì— íŠ¹í™”ëœ ì–¸ì–´ê°€ ì•„ë‹ˆê¸°ì— ìœ ì§€ë³´ìˆ˜ë‚˜ í”„ë¡œê·¸ë¨ì‘ì„±ì— ì–´ë ¤ì›€ì´ ìˆë‹¤.


# íŒŒì´ì¬ì€ cgiëª¨ë“ˆì„ í†µí•´ CGI í™˜ê²½ë³€ìˆ˜ì™€ CGI í‘œì¤€ ì…ì¶œë ¥ ì— ì§ì ‘ ì•¡ì„¸ìŠ¤í•´ì„œ ì›¹í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•  ìˆ˜
# ìˆë‹¤.

# ì›¹í”„ë¡œê·¸ë¨ì€ ì›¹ì„œë²„ì™€ëŠ” ë…ë¦½ì ì´ì–´ì•¼ í•˜ëŠ”ë° íŒŒì´ì¬ì€ WSGI í‘œì¤€ì„ ì§€ì¼œ ì´ë…ë¦½ì„±ì„ êµ¬í˜„í•´ì¤€ë‹¤.
# ( WSGI í‘œì¤€ì„ ë”°ë¥´ë©´ ì›¹ì„œë²„ì˜ ì¢…ë¥˜ì™€ëŠ” ìƒê´€ì—†ì´ ë™ì‘ì´ ëœë‹¤.)

# ** FlaskëŠ” Werkzeug(ë²¡ìì´ê·¸)ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ëœë‹¤.
# ë²¡ìì´ê·¸ëŠ” WSGI ì½”ì–´ì™€ URL ë¼ìš°íŒ…ì„  ì§€ì›í•˜ê³  ìˆë‹¤. 



# ì›¹í”„ë¡œê·¸ë¨ì€ ì‚¬ìš©ìê°€ ë³´ë‚¸ ìš”ì²­ê³¼ ìš”ì²­ì„ ì²˜ë¦¬í•œ ê²°ê³¼ë¥¼ ì›¹ì„œë²„ë¥¼ ê²½ìœ í•´ì„œ ì£¼ê³  ë°›ëŠ”ë‹¤.
   ì´ ë•Œ ì›¹ì„œë²„ì™€ ì›¹í”„ë¡œê·¸ë¨ ê°„ì— ë©”ì‹œì§€ë¥¼ ì£¼ê³  ë°›ê¸° ìœ„í•œ ì•½ì†ì´ í•„ìš”í•œë° ì´ ì•½ì†ì„ CGI ê·œì•½ì´ë¼ê³  í•œë‹¤.

   CGI(Common Gate Interface) : CGI í”„ë¡œê·¸ë¨ì„ í•˜ê¸° ìœ„í•œ ì–¸ì–´ëŠ” í™˜ê²½ ë³€ìˆ˜ë‚˜ í‘œì¤€ ì…ì¶œë ¥ì„ ë‹¤ë£° ìˆ˜ ìˆëŠ” ì–¸ì–´ë¼ë©´ ëª¨ë‘ ì‚¬ìš© ê°€ëŠ¥í•˜ì§€ë§Œ
   ì‹¤í–‰ ì†ë„ë‚˜ ê°œë°œì˜ í¸ì˜ì„±ì„ ê³ ë ¤í•˜ì—¬ 2000ë…„ëŒ€ ì´ˆê¹Œì§€ perl ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤.
   
   ì†ŒìŠ¤ ì½”ë“œì˜ ë³´ì•ˆì„±ì„ ìœ„í•´ C, C++, ë¸íŒŒì´ì™€ ê°™ì€ ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ë„ ìˆëŠ”ë°, ì´ ì–¸ì–´ë“¤ì€ ì›¹ì— íŠ¹í™”ëœ ì–¸ì–´ê°€ ì•„ë‹ˆê¸°ì—
   ìœ ì§€ ë³´ìˆ˜ë‚˜ í”„ë¡œê·¸ë¨ ì‘ì„±ì— ì–´ë ¤ì›€ì´ ìˆë‹¤.

   íŒŒì´ì¬ì€ cgi ëª¨ë“ˆì„ í†µí•´ CGI í™˜ê²½ë³€ìˆ˜ì™€ CGI í‘œì¤€ ì…ì¶œë ¥ì— ì§ì ‘ ì•¡ì„¸ìŠ¤í•´ì„œ ì›¹í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.
   
   ì›¹í”„ë¡œê·¸ë¨ì€ ì›¹ì„œë²„ì™€ëŠ” ë…ë¦½ì ì´ì–´ì•¼ í•˜ëŠ”ë° íŒŒì´ì¬ì€ WSGI í‘œì¤€ì„ ì§€ì¼œ ì´ ë…ë¦½ì„±ì„ êµ¬í˜„í•´ ì¤€ë‹¤.
   (WSGI í‘œì¤€ì„ ë”°ë¥´ë©´ ì›¹ì„œë²„ì˜ ì¢…ë¥˜ì™€ëŠ” ìƒì†¬ì—†ì´ ë™ì‘ì´ ëœë‹¤.)

   FlaskëŠ” Werkzeug(ë²¡ìì´ê·¸) ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ëœë‹¤.
   ë²¡ìì´ê·¸ëŠ” WSGI ì½”ì–´ì™€ URL ë¼ìš°íŒ…ì„ ì§€ì›í•˜ê³  ìˆë‹¤.

   


from flask import Flask

app = Flask(__name__)

@app.route("/") 'route decorator
def hello():
    return "Hello World!!"

if __name__ "__main__":
    app.run()


Flask     â†— business logic
route -> ë·°í•¨ìˆ˜ -> í…œí”Œë¦¿ (HTML)
   â†‘                     â†“
            user
127.0.0.1:5000/

# ë¼ìš°íŒ… : ë³µì¡í•œ URIë¥¼ ì‰½ê²Œ ì²˜ë¦¬í•˜ë„ë¡ í•˜ëŠ” ê¸°ëŠ¥
# route() ë°ì½”ë ˆì´í„°(@) ì‚¬ìš©

@app.route("/user/<userName>") # ë³€ìˆ˜ <userName>ì„ ì¸ìê°’ìœ¼ë¡œ ë„˜ê²¨ì¤Œ


=====================================
from flask import Flask

app = Flask(__name__)
@app.route('/')

def hello_world():
    return 'Hello world!!'

if __name__ == '__main__'
    app.run()

C:\Users\Administrator\Documents\íŒŒì´ì¬-flask_ì†ŒìŠ¤\ì†ŒìŠ¤\templates

C:\Windows\SystemApps\Microsoft.Windows.CloudExperienceHost_cw5n1h2txyewy\webapps\inclusiveOobe\view\templates
C:\Windows\SystemApps\Microsoft.Windows.CloudExperienceHost_cw5n1h2txyewy\webapps\templates

search-ms:displayname=ë¡œì»¬%20ë””ìŠ¤í¬%20(C%3A)ì˜%20ê²€ìƒ‰%20ê²°ê³¼&crumb=location:C%3A%5C\templates


# HTTP ë©”ì„œë“œ ì¤‘ GET, POSTê°€ ëŒ€í‘œì ì´ë‹¤.
# GET, POST ì´ì™¸ì—ë„ PUT, DELETE, HED, OPTIONS ë©”ì„œë“œê°€ ìˆëŠ”ë°, ì´ëŸ¬í•œ íƒ€ì…ë“¤ì€ REST APIê°œë°œ
# ì‹œì— ì£¼ë¡œ ì‚¬ìš©ëœë‹¤.

# ì›¹ í”„ë¡œê·¸ë¨ì— ìì›ì„ ìš”ì²­í•˜ëŠ” ëŒ€í‘œì ì¸ ë°©ë²•ì€ GET ë°©ì‹ì´ë‹¤. GETë°©ì‹ì€ ì›¹ë¸Œë¼ìš°ì €ì˜
# ì£¼ì†Œ ì…ë ¥ë€ì— ì „ë‹¬í•˜ê³ ì í•˜ëŠ” ì •ë³´ê°€ ë…¸ì¶œë˜ê¸° ë•Œë¬¸ì— ì¤‘ìš”í•œ ì •ë³´ ì „ë‹¬ì„ í•  ë•ŒëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.

# POSTë°©ì‹ì€ HTTP ë©”ì‹œì§€ì˜ BODYì— ë°ì´í„°ë¥¼ í¬í•¨í•´ì„œ ì „ë‹¬í•œë‹¤. ë”°ë¼ì„œ, ë§ì€ ì–‘ì˜ ë°ì´í„°ë¥¼ ì „ë‹¬
# í•  ë•Œ ì‚¬ìš©í•˜ë©°, HTTPSë¥¼ ì‚¬ìš©í•˜ëŠ” ì›¹ì„œë²„ëŠ” ì „ë‹¬í•˜ëŠ” ë°ì´í„°ê°€ ì¤‘ìš”í•˜ê¸° ë•Œë¬¸ì— ì•”í˜¸í™” ì²˜ë¦¬ë˜ì–´ ì „ë‹¬

@app.route('/aurl', methods = ['GET']) ì¼ë°˜ì ìœ¼ë¡œ GETë°©ì‹ì€ ìƒëµëœë‹¤.
def aaa():
    pass
@app.route('aurl', methods = ['POST'])
def bbb():
    pass

#ìœ„ì˜ ì½”ë“œëŠ” HTTPë©”ì„œë“œ íƒ€ì…ì— ë”°ë¼ ë·°í•¨ìˆ˜ê°€ ë‹¤ë¥¸ ê²½ìš°

# ì•„ë˜ì˜ ì½”ë“œëŠ” HTPPë©”ì„œë“œ íƒ€ì…ì´ ë‹¬ë¼ë„ í•˜ë‚˜ì˜ ë·°í•¨ìˆ˜ ì‚¬ìš©

@app.route('burl', methods=['GET', 'POST'])
def ccc():
    pass


# route ë°ì½”ë ˆì´í„°ì— methods ì¸ìê°€ ì—†ìœ¼ë©´ ë·°í•¨ìˆ˜ëŠ” GETìš”ì²­ë§Œì„ ì²˜ë¦¬í•˜ê²Œëœë‹¤.


# URL ë³€ìˆ˜ì— ê¸°ë³¸ê°’ í• ë‹¹í•˜ê¸°

@app.route('/aaa', defaults={'page' : 'index'})
@app.route('/aaa/<page>')

#ë¸Œë¼ìš°ì €ì—ì„œ /aaa/ë¥¼ í˜¸ì¶œí•œ ê²½ìš°ì—ëŠ” /aaa/indexí˜•íƒœì˜ ì£¼ì†Œë¥¼ í˜¸ì¶œí•œ ê²ƒê³¼ ê°™ë‹¤.



# HTTP Error Code

# 400 : Bad Request ì˜ëª»ëœ ìš”ì²­
# 401 : Unauthorized(ì¸ì¦ì´ ìš”êµ¬ë˜ëŠ” ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í–ˆì„ ë•Œ ì¸ì¦í•˜ì§€ ì•Šì€ ìƒíƒœ)
# 403 : Forbiddend(ì¸ì¦ëœ ì‚¬ìš©ìê°€ ê¶Œí•œì´ í•„ìš”í•œ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ì—†ì„ ë•Œ )
# 404 : Not found(ìš”êµ¬í•œ ë¦¬ì†ŒìŠ¤ê°€ ì—†ì„ ë•Œ)
# 405 : Method Not Allowed(GET, POSTìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ ìš”ì²­í•˜ê³  ì›¹í”„ë¡œê·¸ë¨ì´ ì ‘ê·¼í—ˆìš©í•˜ì§€ ì•Šì„ ë•Œ)

# 500 : Internal Server Error(ì›¹ í”„ë¡œê·¸ë¨ì˜ ë‚´ë¶€ ì˜¤ë¥˜ë¡œ ì¸í•´ì„œ ì‘ë‹µí•  ìˆ˜ ì—†ì„ ë•Œ)
# 501 : Not implemented(ë¸Œë¼ìš°ì €ê°€ ìš”ì²­í•œ ê¸°ëŠ¥ì´ ì›¹í”„ë¡œê·¸ë¨ì—ì„œ êµ¬í˜„ë˜ì§€ ì•Šì„ ë•Œ)
# 502 : Bad Gateway(ì›¹í”„ë¡œê·¸ë¨ì´ ì™¸ë¶€ ì„œë¹„ìŠ¤ì™€ ì—°ë™í•˜ë©´ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì„ ë•Œ)
# 503 : Service Unavailable( ì›¹í”„ë¡œê·¸ë¨ì˜ ê¸°ëŠ¥êµ¬í˜„ì€ ë˜ì–´ ìˆëŠ”ë° ì„œë¹„ìŠ¤ ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥í•  ë•Œ)

# routeë°ì½”ë ˆì´í„°ì™€ ê°™ì€ ë™ì‘ì„ í•˜ëŠ” errorhandler ë°ì½”ë ˆì´í„°
# @app.errorhandler(404)
# def page_not_found(e):
#       return render_template('404.html'), 404

# abort : Flaskì—ì„œ ì—ëŸ¬ë¥¼ ë°œìƒ ì‹œí‚¤ëŠ” ê°ì²´
# abort(404)



