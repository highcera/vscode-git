https://hyunki99.tistory.com/111


[React] Zustandë€? ì‚¬ìš©í•˜ëŠ” ì´ìœ ! (ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬, ì‚¬ìš© ë°©ë²• ì˜ˆì‹œ)
2024. 3. 14. 19:10
Â·
Front-End/React
ëª©ì°¨
ì‚¬ìš©í•˜ëŠ” ì´ìœ 
ë¼ì´ë¸ŒëŸ¬ë¦¬ í†µê³„
ì‚¬ìš©ë°©ë²•

ZustandëŠ” ë…ì¼ì–´ë¡œ 'ìƒíƒœ'ë¼ëŠ” ëœ»ìœ¼ë¡œ
React ìƒíƒœê³„ì—ì„œ ì‚¬ìš©í•˜ëŠ” ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.

í˜„ì¬ Reduxê°€ ì••ë„ì ìœ¼ë¡œ ë§ì´ ì‚¬ìš©ë˜ê³  ìˆì§€ë§Œ,
ë¬¸ë²•ì´ ë”ëŸ¬ìš´ í¸ì´ë¼ í•™ìŠµì— ì‹œê°„ì´ í•„ìš”í•©ë‹ˆë‹¤.

Post Reduxë¡œì„œ ì‚¬ìš©ìê°€ ë¹ ë¥´ê²Œ ëŠ˜ê³  ìˆëŠ” í™í•œ ê³°ëŒì´ ì¹œêµ¬ Zustandì— ëŒ€í•´ì„œ ì•Œì•„ë´…ì‹œë‹¤.

ğŸ“  ì‚¬ìš©í•˜ëŠ” ì´ìœ 

â¦ Reactì—ì„œ ë°ì´í„°ëŠ” ë‹¨ë°©í–¥
https://dev.to/stuxnat/final-react-project-2poi
ê¸°ë³¸ì ìœ¼ë¡œ Reactì˜ ë°ì´í„° íë¦„ì€ State & Propsë¥¼ ì‚¬ìš©í•´ ë‹¨ë°©í–¥ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ì•¼ í•œë‹¤ëŠ” ì›ì¹™ì´ ìˆìŠµë‹ˆë‹¤.
ì´ëŸ¬í•œ ë°ì´í„° íë¦„ì€ ë‹¨ìˆœí•˜ê³  ì˜ˆì¸¡ ê°€ëŠ¥í•˜ë©°, ì»´í¬ë„ŒíŠ¸ ê°„ì˜ ê´€ê³„ë¥¼ ëª…í™•íˆ ì •ì˜í•˜ê¸° ë•Œë¬¸ì— ìœ ì§€ ë³´ìˆ˜ì„±ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.

â¦ ìŒ.. ì»´í¬ë„ŒíŠ¸ê°€ ë„ˆë¬´ ë§ìœ¼ë©´?
ì½”ë”©ì• í”Œ ì„ ìƒë‹˜ https://www.youtube.com/watch?v=3MB8DBXzEos

í•˜ì§€ë§Œ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ê³¼ì •ì—ì„œ ê±°ì³ì•¼ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë„ˆë¬´ ë§ì€ ìƒí™©ì´ë¼ë©´ ì–´ë–¨ê¹Œìš”?
1. ìµœìƒìœ„ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒíƒœë‚˜ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.
2. ì¤‘ê°„ì— ìœ„ì¹˜í•œ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ê°€ í•´ë‹¹ ë°ì´í„°ì— ì ‘ê·¼í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.
3. ê·¸ëŸ¬ë‚˜ ì¤‘ê°„ì— ìˆëŠ” ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë“¤ì€ í•´ë‹¹ ë°ì´í„°ì— ì ‘ê·¼í•  í•„ìš”ê°€ ì—†ì§€ë§Œ, ë°ì´í„°ë¥¼ ë‹¤ì‹œ ìì‹ ì»´í¬ë„ŒíŠ¸ë¡œ ì „ë‹¬í•´ì•¼ í•©ë‹ˆë‹¤.
4. ê²°ê³¼ì ìœ¼ë¡œ ë°ì´í„°ëŠ” ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ë¥¼ í†µê³¼í•˜ì—¬ ëª©ì ì§€ì— ë„ë‹¬í•©ë‹ˆë‹¤.
ì´ ê³¼ì •ì„ "prop drilling"ì´ë¼ê³  í•©ë‹ˆë‹¤.
 
ê²°ê³¼ì ìœ¼ë¡œ ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë µê²Œ ë˜ì–´ ê°œë°œìê°€ í”¼ê³¤í•  ë¿ë§Œ ì•„ë‹ˆë¼, ì„±ëŠ¥ì´ ì €í•˜ë  ìš°ë ¤ ë˜í•œ ì¡´ì¬í•©ë‹ˆë‹¤. 
ì´ë ‡ë“¯ì´ ìƒíƒœëŠ” ì—¬ëŸ¬ í˜ì´ì§€, í”„ë¡œë•íŠ¸ ì „ë°˜ì— ê±¸ì³ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ìˆê¸° ë•Œë¬¸ì— ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë“±ì¥í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

ğŸ“ ë¼ì´ë¸ŒëŸ¬ë¦¬ í†µê³„
â¦ npm trends ë‹¤ìš´ë¡œë“œ ìˆœìœ„
âœ” Reactì˜ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‹¤ìš´ë¡œë“œ ìˆ˜ í†µê³„ì…ë‹ˆë‹¤.

  ZustandëŠ” ìµœê·¼ 1ë…„ ë™ì•ˆ ë¬´ë ¤ 250ë§Œ ë‹¤ìš´ë¡œë“œ ìˆ˜ë¥¼ ê¸°ë¡í–ˆìŠµë‹ˆë‹¤.
  ì™„ì „ í™í•˜ì£ ?

https://yozm.wishket.com/magazine/detail/2233/
ë¦¬ì•¡íŠ¸ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬, ì–´ë–¤ ê²ƒì„ ì¨ì•¼ í• ê¹Œ? | ìš”ì¦˜IT

ì›¹ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìë¼ë©´ í•œ ë²ˆì¯¤ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ëŒ€í•´ ë“¤ì–´ë´¤ì„ ê²ƒì´ë‹¤. ì´ë¯¸ ì“°ê³  ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ìœ ì§€í•˜ëŠ” ê²ƒë„ ì¢‹ì§€ë§Œ, 
í˜„ì¬ ì–´ë–¤ ë„êµ¬ë“¤ì´ ë‚˜ì˜¤ê³  ìˆëŠ”ì§€ ê¾¸ì¤€íˆ ê´€ì‹¬ì„ ê°€ì§€

yozm.wishket.com
âœ” í˜„ì¬ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ì„ íƒì§€ë¡œëŠ” Redux, Context API, Zustand, Recoil ë“±ì´ ì¡´ì¬í•©ë‹ˆë‹¤.
ê° ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ íŠ¹ì„±ì„ ìì„¸íˆ ì•Œê³  ì‹¶ë‹¤ë©´ ìš”ì¦˜ITì˜ ë°ë¸Œì˜¤ì›¬ë‹˜ ì¹¼ëŸ¼ì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.

ğŸ“ ì‚¬ìš©ë°©ë²•
âœ” ê³µì‹ë¬¸ì„œ ë§í¬
https://github.com/pmndrs/zustand

í•­ìƒ ì‹œì‘ì€ ê³µì‹ë¬¸ì„œ ì •ë…ë¶€í„° !
âœ” ê³µì‹ë¬¸ì„œë¥¼ ë³´ì‹œë©´ ì•„ì‹œê² ì§€ë§Œ ì‚¬ìš©ë°©ë²•ì´ êµ‰ì¥íˆ ê°„ê²°í•˜ê³  ì‰½ìŠµë‹ˆë‹¤. ì–´ë µì§€ ì•Šê²Œ ë°”ë¡œ í”„ë¡œì íŠ¸ì— ì ìš©í•˜ì‹¤ ìˆ˜ ìˆì„ê²ë‹ˆë‹¤.
âœ” ê·¸ëƒ¥ ê³µì‹ ë¬¸ì„œ ìƒ˜í”Œ ì½”ë“œë¥¼ ì˜¬ë¦¬ê¸°ë³´ë‹¤,  ì œê°€ íšŒì‚¬ì—ì„œ ì½”ì¸ ë°ì´í„°ë¥¼ ì „ì—­ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•´
ë„ì…í•œ Zustand ì½”ë“œì˜ ì¼ë¶€ë¶„ì„ ì˜ˆì‹œë¡œ ë‚¨ê²¨ë†“ê² ìŠµë‹ˆë‹¤. ğŸ˜€

â¦ ë””ë ‰í„°ë¦¬ êµ¬ì¡°
src/
|-- store/
|   |-- useCoinStore.js
|   |-- useUserStore.js
|
|-- components/
|   |-- ... //ë­”ê°€ ìˆê² ì£ 

âœ”  ì „ì—­ì ìœ¼ë¡œ ì €ì¥í•˜ê³  ì‹¶ì€ ë°ì´í„°ì˜ use ... Store íŒŒì¼ì„ ìƒì„±í•´ì¤ë‹ˆë‹¤. (í›… ë„¤ì´ë° êµ­ë£°)

â¦ Store ì½”ë“œ
// useCoinStore.js

import {create} from 'zustand';
import {favoriteCoinAPI} from '../api/favoriteCoin';

const useCoinStore = create(set => ({
  coinList: [], //ì½”ì¸ ì •ë³´ ë¦¬ìŠ¤íŠ¸
  favoriteCoinList: [],
  isLoadingFavoriteCoinList: false, //ë¡œë”© ìƒíƒœ

  setCoinList: coinList => set({coinList}),
  clearCoinList: () => set({coinList: []}),

  setFavoriteCoinList: favoriteCoinList => set({favoriteCoinList}),
  clearFavoriteCoinList: () => set({favoriteCoinList: []}),
  
  /* ê´€ì‹¬ì½”ì¸ ë¦¬ìŠ¤íŠ¸ ê°€ì ¸ì˜¤ê¸° ë©”ì„œë“œ */
  getFavoriteCoinList: memberId => {
    set({isLoadingFavoriteCoinList: true}); //ì´ëŸ° ì‹ìœ¼ë¡œ ì „ì—­ ë¡œë”©ë„ ì„¤ì • ê°€ëŠ¥í•´ìš”
    favoriteCoinAPI
      .getFavoriteCoinList(memberId)
      .then(result => {
        set({favoriteCoinList: result.data}); //ë°ì´í„° í˜•ì‹ì€ returnê°’ì— ë”°ë¼ ë³€ê²½
      })
      .catch(e => {
        console.error('Get Favorite Coin List Error:', e);
      })
      .finally(() => {
        set({isLoadingFavoriteCoinList: false}); //ë¡œë”© êº¼ì£¼ì‹œê³ 
      });
  },
}));

export default useCoinStore;
 

âœ”  ê·¸ëƒ¥ Stateì¸ë° Zustand ë¬¸ë²•ì´ ì¡°ê¸ˆ ì„ì˜€ë‹¤ê³  ì´í•´í•˜ë©´ í¸í•©ë‹ˆë‹¤.

 ë°ì´í„°ë¿ë§Œì´ ì•„ë‹ˆë¼ ì „ì—­ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë©”ì„œë“œì™€ ë¡œë”©ìƒíƒœ ë“±ë„ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

 

Reatcì—ì„œëŠ” ì»´í¬ë„ŒíŠ¸ ìˆ˜ì¤€ì—ì„œ ìƒíƒœ(State)ê°€ ì—…ë°ì´íŠ¸ ë˜ë©´ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ì‹œ ë Œë”ë§ í•©ë‹ˆë‹¤.
ZustandëŠ” ë‚´ë¶€ì ìœ¼ë¡œ Reactì˜ Context APIë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒíƒœë¥¼ ì „ì—­ìœ¼ë¡œ ê³µìœ í•©ë‹ˆë‹¤.
ë”°ë¼ì„œ Zustandì˜ Stateë„ setí•¨ìˆ˜ë¥¼ í†µí•´ ê°’ì´ ì—…ë°ì´íŠ¸ ëœë‹¤ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì‹œ ë Œë”ë§ ë©ë‹ˆë‹¤. ğŸ˜€
 

â¦ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•  ë•Œ ì½”ë“œ
// ì´í•´ë¥¼ ë•ê¸° ìœ„í•œ ìƒ˜í”Œì½”ë“œì…ë‹ˆë‹¤.
import useCoinStore from './src/store/useCoinStore';

const App = () => {
  const {coinList, setCoinList, getFavoriteCoinList} = useCoinStore(); // Zustand Soreì—ì„œ í•„ìš”í•œ ê²ƒ ê°€ì ¸ì˜¤ê¸° !
  
  const getData = () => {
  	... // api request
    setCoinList( data )
  }
  
  ...
  
  return (
      <div>
           {coinList} // state ì“°ë“¯ì´ ì“°ë©´ ë©ë‹ˆë‹¤!
      </div>
 );
};
 